{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte/store/index.mjs","../../src/store.js","../../node_modules/svelte-canvas/src/util/forwardEvents.js","../../node_modules/svelte-canvas/src/util/renderManager.js","../../node_modules/svelte-canvas/src/components/Canvas.svelte","../../node_modules/svelte-canvas/src/components/Layer.svelte","../../node_modules/svelte-canvas/src/components/timer.js","../../node_modules/topojson-client/src/identity.js","../../node_modules/topojson-client/src/feature.js","../../node_modules/topojson-client/src/transform.js","../../node_modules/topojson-client/src/reverse.js","../../node_modules/d3-array/src/ascending.js","../../node_modules/d3-array/src/bisector.js","../../node_modules/d3-array/src/bisect.js","../../node_modules/d3-array/src/number.js","../../node_modules/d3-array/src/fsum.js","../../node_modules/d3-array/src/ticks.js","../../node_modules/d3-array/src/merge.js","../../node_modules/d3-geo/src/math.js","../../node_modules/d3-geo/src/noop.js","../../node_modules/d3-geo/src/stream.js","../../node_modules/d3-geo/src/cartesian.js","../../node_modules/d3-geo/src/compose.js","../../node_modules/d3-geo/src/rotation.js","../../node_modules/d3-geo/src/circle.js","../../node_modules/d3-geo/src/clip/buffer.js","../../node_modules/d3-geo/src/pointEqual.js","../../node_modules/d3-geo/src/clip/rejoin.js","../../node_modules/d3-geo/src/polygonContains.js","../../node_modules/d3-geo/src/clip/index.js","../../node_modules/d3-geo/src/clip/antimeridian.js","../../node_modules/d3-geo/src/clip/circle.js","../../node_modules/d3-geo/src/clip/rectangle.js","../../node_modules/d3-geo/src/clip/line.js","../../node_modules/d3-geo/src/path/area.js","../../node_modules/d3-geo/src/identity.js","../../node_modules/d3-geo/src/path/bounds.js","../../node_modules/d3-geo/src/path/centroid.js","../../node_modules/d3-geo/src/path/context.js","../../node_modules/d3-geo/src/path/measure.js","../../node_modules/d3-geo/src/path/string.js","../../node_modules/d3-geo/src/transform.js","../../node_modules/d3-geo/src/projection/fit.js","../../node_modules/d3-geo/src/projection/resample.js","../../node_modules/d3-geo/src/projection/index.js","../../node_modules/d3-geo/src/projection/conicEqualArea.js","../../node_modules/d3-geo/src/projection/cylindricalEqualArea.js","../../node_modules/d3-geo/src/projection/conic.js","../../node_modules/d3-geo/src/projection/albersUsa.js","../../node_modules/d3-geo/src/projection/albers.js","../../node_modules/d3-scale/src/init.js","../../node_modules/d3-color/src/define.js","../../node_modules/d3-color/src/color.js","../../node_modules/d3-interpolate/src/constant.js","../../node_modules/d3-interpolate/src/color.js","../../node_modules/d3-interpolate/src/rgb.js","../../node_modules/d3-interpolate/src/numberArray.js","../../node_modules/d3-interpolate/src/array.js","../../node_modules/d3-interpolate/src/date.js","../../node_modules/d3-interpolate/src/number.js","../../node_modules/d3-interpolate/src/object.js","../../node_modules/d3-interpolate/src/string.js","../../node_modules/d3-interpolate/src/value.js","../../node_modules/d3-interpolate/src/round.js","../../node_modules/d3-scale/src/number.js","../../node_modules/d3-scale/src/continuous.js","../../node_modules/d3-scale/src/constant.js","../../node_modules/d3-format/src/formatDecimal.js","../../node_modules/d3-format/src/exponent.js","../../node_modules/d3-format/src/formatSpecifier.js","../../node_modules/d3-format/src/formatPrefixAuto.js","../../node_modules/d3-format/src/formatRounded.js","../../node_modules/d3-format/src/formatTypes.js","../../node_modules/d3-format/src/identity.js","../../node_modules/d3-format/src/locale.js","../../node_modules/d3-format/src/defaultLocale.js","../../node_modules/d3-format/src/formatGroup.js","../../node_modules/d3-format/src/formatNumerals.js","../../node_modules/d3-format/src/formatTrim.js","../../node_modules/d3-scale/src/tickFormat.js","../../node_modules/d3-format/src/precisionPrefix.js","../../node_modules/d3-format/src/precisionRound.js","../../node_modules/d3-format/src/precisionFixed.js","../../node_modules/d3-scale/src/linear.js","../../node_modules/d3-scale/src/sequential.js","../../node_modules/d3-dsv/src/dsv.js","../../node_modules/d3-dsv/src/csv.js","../../node_modules/d3-fetch/src/text.js","../../node_modules/d3-fetch/src/dsv.js","../../src/Point.svelte","../../node_modules/d3-interpolate/src/piecewise.js","../../node_modules/robust-predicates/esm/util.js","../../node_modules/robust-predicates/esm/orient2d.js","../../node_modules/delaunator/index.js","../../node_modules/d3-delaunay/src/path.js","../../node_modules/d3-delaunay/src/polygon.js","../../node_modules/d3-delaunay/src/voronoi.js","../../node_modules/d3-delaunay/src/delaunay.js","../../src/Legend.svelte","../../src/App.svelte","../../node_modules/d3-geo/src/projection/identity.js","../../node_modules/d3-geo/src/path/index.js","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\nfunction start_hydrating() {\n    is_hydrating = true;\n}\nfunction end_hydrating() {\n    is_hydrating = false;\n}\nfunction upper_bound(low, high, key, value) {\n    // Return first index of value larger than input value in the range [low, high)\n    while (low < high) {\n        const mid = low + ((high - low) >> 1);\n        if (key(mid) <= value) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nfunction init_hydrate(target) {\n    if (target.hydrate_init)\n        return;\n    target.hydrate_init = true;\n    // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n    let children = target.childNodes;\n    // If target is <head>, there may be children without claim_order\n    if (target.nodeName === 'HEAD') {\n        const myChildren = [];\n        for (let i = 0; i < children.length; i++) {\n            const node = children[i];\n            if (node.claim_order !== undefined) {\n                myChildren.push(node);\n            }\n        }\n        children = myChildren;\n    }\n    /*\n    * Reorder claimed children optimally.\n    * We can reorder claimed children optimally by finding the longest subsequence of\n    * nodes that are already claimed in order and only moving the rest. The longest\n    * subsequence subsequence of nodes that are claimed in order can be found by\n    * computing the longest increasing subsequence of .claim_order values.\n    *\n    * This algorithm is optimal in generating the least amount of reorder operations\n    * possible.\n    *\n    * Proof:\n    * We know that, given a set of reordering operations, the nodes that do not move\n    * always form an increasing subsequence, since they do not move among each other\n    * meaning that they must be already ordered among each other. Thus, the maximal\n    * set of nodes that do not move form a longest increasing subsequence.\n    */\n    // Compute longest increasing subsequence\n    // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n    const m = new Int32Array(children.length + 1);\n    // Predecessor indices + 1\n    const p = new Int32Array(children.length);\n    m[0] = -1;\n    let longest = 0;\n    for (let i = 0; i < children.length; i++) {\n        const current = children[i].claim_order;\n        // Find the largest subsequence length such that it ends in a value less than our current value\n        // upper_bound returns first greater value, so we subtract one\n        // with fast path for when we are on the current longest subsequence\n        const seqLen = ((longest > 0 && children[m[longest]].claim_order <= current) ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;\n        p[i] = m[seqLen] + 1;\n        const newLen = seqLen + 1;\n        // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n        m[newLen] = i;\n        longest = Math.max(newLen, longest);\n    }\n    // The longest increasing subsequence of nodes (initially reversed)\n    const lis = [];\n    // The rest of the nodes, nodes that will be moved\n    const toMove = [];\n    let last = children.length - 1;\n    for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n        lis.push(children[cur - 1]);\n        for (; last >= cur; last--) {\n            toMove.push(children[last]);\n        }\n        last--;\n    }\n    for (; last >= 0; last--) {\n        toMove.push(children[last]);\n    }\n    lis.reverse();\n    // We sort the nodes being moved to guarantee that their insertion order matches the claim order\n    toMove.sort((a, b) => a.claim_order - b.claim_order);\n    // Finally, we move the nodes\n    for (let i = 0, j = 0; i < toMove.length; i++) {\n        while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n            j++;\n        }\n        const anchor = j < lis.length ? lis[j] : null;\n        target.insertBefore(toMove[i], anchor);\n    }\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root && root.host) {\n        return root;\n    }\n    return node.ownerDocument;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n}\nfunction append_hydration(target, node) {\n    if (is_hydrating) {\n        init_hydrate(target);\n        if ((target.actual_end_child === undefined) || ((target.actual_end_child !== null) && (target.actual_end_child.parentElement !== target))) {\n            target.actual_end_child = target.firstChild;\n        }\n        // Skip nodes of undefined ordering\n        while ((target.actual_end_child !== null) && (target.actual_end_child.claim_order === undefined)) {\n            target.actual_end_child = target.actual_end_child.nextSibling;\n        }\n        if (node !== target.actual_end_child) {\n            // We only insert if the ordering of this node should be modified or the parent node is not target\n            if (node.claim_order !== undefined || node.parentNode !== target) {\n                target.insertBefore(node, target.actual_end_child);\n            }\n        }\n        else {\n            target.actual_end_child = node.nextSibling;\n        }\n    }\n    else if (node.parentNode !== target || node.nextSibling !== null) {\n        target.appendChild(node);\n    }\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction insert_hydration(target, node, anchor) {\n    if (is_hydrating && !anchor) {\n        append_hydration(target, node);\n    }\n    else if (node.parentNode !== target || node.nextSibling != anchor) {\n        target.insertBefore(node, anchor || null);\n    }\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction trusted(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.isTrusted)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction init_claim_info(nodes) {\n    if (nodes.claim_info === undefined) {\n        nodes.claim_info = { last_index: 0, total_claimed: 0 };\n    }\n}\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n    // Try to find nodes in an order such that we lengthen the longest increasing subsequence\n    init_claim_info(nodes);\n    const resultNode = (() => {\n        // We first try to find an element after the previous one\n        for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                return node;\n            }\n        }\n        // Otherwise, we try to find one before\n        // We iterate in reverse so that we don't go too far back\n        for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                else if (replacement === undefined) {\n                    // Since we spliced before the last_index, we decrease it\n                    nodes.claim_info.last_index--;\n                }\n                return node;\n            }\n        }\n        // If we can't find any matching node, we create a new one\n        return createNode();\n    })();\n    resultNode.claim_order = nodes.claim_info.total_claimed;\n    nodes.claim_info.total_claimed += 1;\n    return resultNode;\n}\nfunction claim_element_base(nodes, name, attributes, create_element) {\n    return claim_node(nodes, (node) => node.nodeName === name, (node) => {\n        const remove = [];\n        for (let j = 0; j < node.attributes.length; j++) {\n            const attribute = node.attributes[j];\n            if (!attributes[attribute.name]) {\n                remove.push(attribute.name);\n            }\n        }\n        remove.forEach(v => node.removeAttribute(v));\n        return undefined;\n    }, () => create_element(name));\n}\nfunction claim_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, element);\n}\nfunction claim_svg_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, svg_element);\n}\nfunction claim_text(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 3, (node) => {\n        const dataStr = '' + data;\n        if (node.data.startsWith(dataStr)) {\n            if (node.data.length !== dataStr.length) {\n                return node.splitText(dataStr.length);\n            }\n        }\n        else {\n            node.data = dataStr;\n        }\n    }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n    );\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction find_comment(nodes, text, start) {\n    for (let i = start; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n            return i;\n        }\n    }\n    return nodes.length;\n}\nfunction claim_html_tag(nodes) {\n    // find html opening tag\n    const start_index = find_comment(nodes, 'HTML_TAG_START', 0);\n    const end_index = find_comment(nodes, 'HTML_TAG_END', start_index);\n    if (start_index === end_index) {\n        return new HtmlTagHydration();\n    }\n    init_claim_info(nodes);\n    const html_tag_nodes = nodes.splice(start_index, end_index + 1);\n    detach(html_tag_nodes[0]);\n    detach(html_tag_nodes[html_tag_nodes.length - 1]);\n    const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n    for (const n of claimed_nodes) {\n        n.claim_order = nodes.claim_info.total_claimed;\n        nodes.claim_info.total_claimed += 1;\n    }\n    return new HtmlTagHydration(claimed_nodes);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n    select.selectedIndex = -1; // no option should be selected\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, bubbles = false) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor() {\n        this.e = this.n = null;\n    }\n    c(html) {\n        this.h(html);\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.c(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nclass HtmlTagHydration extends HtmlTag {\n    constructor(claimed_nodes) {\n        super();\n        this.e = this.n = null;\n        this.l = claimed_nodes;\n    }\n    c(html) {\n        if (this.l) {\n            this.n = this.l;\n        }\n        else {\n            super.c(html);\n        }\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert_hydration(this.t, this.n[i], anchor);\n        }\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = append_empty_stylesheet(node).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction getAllContexts() {\n    return get_current_component().$$.context;\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${value}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction escape_attribute_value(value) {\n    return typeof value === 'string' ? escape(value) : value;\n}\nfunction escape_object(obj) {\n    const result = {};\n    for (const key in obj) {\n        result[key] = escape_attribute_value(obj[key]);\n    }\n    return result;\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            start_hydrating();\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        end_hydrating();\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.44.0' }, detail), true));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction append_hydration_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append_hydration(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction insert_hydration_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert_hydration(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to separate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, HtmlTagHydration, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, append_empty_stylesheet, append_hydration, append_hydration_dev, append_styles, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_html_tag, claim_space, claim_svg_element, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, end_hydrating, escape, escape_attribute_value, escape_object, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getAllContexts, getContext, get_all_dirty_from_scope, get_binding_group_value, get_current_component, get_custom_elements_slots, get_root_for_style, get_slot_changes, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, insert_hydration, insert_hydration_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, src_url_equal, start_hydrating, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, trusted, update_await_block_branch, update_keyed_each, update_slot, update_slot_base, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal/index.mjs';\nexport { get_store_value as get } from '../internal/index.mjs';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = new Set();\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (const subscriber of subscribers) {\n                    subscriber[1]();\n                    subscriber_queue.push(subscriber, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.add(subscriber);\n        if (subscribers.size === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            subscribers.delete(subscriber);\n            if (subscribers.size === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","import { writable, derived } from 'svelte/store'\n\nexport const innerWidth = writable(0)\n\nexport const outerWidth = writable(960)\n\nexport const mobile = derived(innerWidth, $innerWidth => $innerWidth < 480)\n","// Adapted from https://github.com/hperrin/svelte-material-ui/blob/master/packages/common/forwardEvents.js\nimport { bubble, listen, get_current_component } from 'svelte/internal';\n\n// prettier-ignore\nconst events = [\n    'focus', 'blur',\n    'fullscreenchange', 'fullscreenerror', 'scroll',\n    'cut', 'copy', 'paste',\n    'keydown', 'keypress', 'keyup',\n    'auxclick', 'click', 'contextmenu', 'dblclick',\n    'mousedown', 'mouseenter', 'mouseleave', 'mousemove', 'mouseover', 'mouseout', 'mouseup',\n    'pointerlockchange', 'pointerlockerror', 'select', 'wheel',\n    'drag', 'dragend', 'dragenter', 'dragstart', 'dragleave', 'dragover', 'drop',\n    'touchcancel', 'touchend', 'touchmove', 'touchstart',\n    'pointerover', 'pointerenter', 'pointerdown', 'pointermove', 'pointerup', 'pointercancel', 'pointerout', 'pointerleave', \n    'gotpointercapture', 'lostpointercapture'\n  ];\n\nexport default function forwardEventsBuilder() {\n  const component = get_current_component();\n\n  return node => {\n    const destructors = events.map(event =>\n      listen(node, event, e => bubble(component, e))\n    );\n\n    return {\n      destroy: () => destructors.forEach(destroy => destroy())\n    };\n  };\n}\n","class RenderManager {\n  constructor() {\n    this.register = this.register.bind(this);\n    this.unregister = this.unregister.bind(this);\n    this.redraw = this.redraw.bind(this);\n    this.resize = this.resize.bind(this);\n    this.render = this.render.bind(this);\n\n    this.currentLayerId = 0;\n    this.setups = new Map();\n    this.renderers = new Map();\n\n    this.needsSetup = false;\n    this.needsResize = true;\n    this.needsRedraw = true;\n\n    this.layerSequence = [];\n  }\n\n  redraw() {\n    this.needsRedraw = true;\n  }\n\n  resize() {\n    this.needsResize = true;\n    this.needsRedraw = true;\n  }\n\n  register({ setup, render }) {\n    if (setup) {\n      this.setups.set(this.currentLayerId, setup);\n      this.needsSetup = true;\n    }\n\n    this.renderers.set(this.currentLayerId, render);\n\n    this.needsRedraw = true;\n    return this.currentLayerId++;\n  }\n\n  unregister(layerId) {\n    this.renderers.delete(layerId);\n    this.needsRedraw = true;\n  }\n\n  render({ autoclear, pixelRatio, context, width, height }) {\n    const renderProps = { context, width, height };\n\n    if (this.needsResize) {\n      context.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n      this.needsResize = false;\n    }\n\n    if (this.needsSetup) {\n      for (const [layerId, setup] of this.setups) {\n        setup(renderProps);\n        this.setups.delete(layerId);\n      }\n\n      this.needsSetup = false;\n    }\n\n    if (this.needsRedraw) {\n      if (autoclear) {\n        context.clearRect(0, 0, width, height);\n      }\n\n      for (const layerId of this.layerSequence) {\n        this.renderers.get(layerId)(renderProps);\n      }\n\n      this.needsRedraw = false;\n    }\n  }\n}\n\nexport default RenderManager;\n","<script context=\"module\">\n  export const KEY = {};\n</script>\n\n<script>\n  import { onMount, onDestroy, setContext } from 'svelte';\n  import forwardEventsBuilder from '../util/forwardEvents';\n  import RenderManager from '../util/renderManager';\n\n  export let width = 640,\n    height = 640,\n    pixelRatio = undefined,\n    style = null,\n    autoclear = true;\n\n  export { redraw, getCanvas, getContext };\n\n  let canvas, context, animationLoop, layerRef, layerObserver;\n\n  const forwardEvents = forwardEventsBuilder();\n\n  const manager = new RenderManager();\n\n  function redraw() {\n    manager.redraw();\n  }\n\n  function getCanvas() {\n    return canvas;\n  }\n\n  function getContext() {\n    return context;\n  }\n\n  if (pixelRatio === undefined) {\n    if (typeof window === 'undefined') {\n      pixelRatio = 2;\n    } else {\n      pixelRatio = window.devicePixelRatio;\n    }\n  }\n\n  function draw() {\n    manager.render({ context, width, height, pixelRatio, autoclear });\n    animationLoop = window.requestAnimationFrame(draw);\n  }\n\n  setContext(KEY, {\n    register: manager.register,\n    unregister: manager.unregister,\n    redraw: manager.redraw\n  });\n\n  onMount(() => {\n    context = canvas.getContext('2d');\n\n    layerObserver = new MutationObserver(getLayerSequence);\n    layerObserver.observe(layerRef, { childList: true });\n    getLayerSequence();\n    draw();\n\n    function getLayerSequence() {\n      const sequence = [...layerRef.children].map(\n        layer => +layer.dataset.layerId\n      );\n      manager.layerSequence = sequence;\n      manager.redraw();\n    }\n  });\n\n  onDestroy(() => {\n    if (typeof window === 'undefined') return;\n    window.cancelAnimationFrame(animationLoop);\n    layerObserver.disconnect();\n  });\n\n  $: width, height, pixelRatio, autoclear, manager.resize();\n</script>\n\n<canvas\n  style=\"display: block; width: {width}px; height: {height}px;{style\n    ? ` ${style}`\n    : ''}\"\n  width={width * pixelRatio}\n  height={height * pixelRatio}\n  bind:this={canvas}\n  use:forwardEvents\n/>\n\n<div style=\"display: none;\" bind:this={layerRef}>\n  <slot />\n</div>\n","<script>\n  import { getContext, onDestroy } from 'svelte';\n  import { KEY } from './Canvas.svelte';\n\n  const { register, unregister, redraw } = getContext(KEY);\n\n  export let setup = undefined,\n    render = () => {};\n\n  if (typeof setup !== 'function' && setup !== undefined) {\n    throw new Error('setup must be a function');\n  }\n\n  if (typeof render !== 'function') {\n    throw new Error('render must be a function');\n  }\n\n  const layerId = register({ setup, render });\n\n  onDestroy(() => unregister(layerId));\n\n  $: render, redraw();\n</script>\n\n<div data-layer-id={layerId} />\n","import { readable } from 'svelte/store';\n\nlet frame;\n\nconst now = Date.now();\n\nfunction start(set) {\n  set(Date.now() - now);\n\n  frame = window.requestAnimationFrame(() => start(set));\n  return () => window.cancelAnimationFrame(frame);\n}\n\nfunction noop() {}\n\nexport default readable(\n  Date.now() - now,\n  typeof window === 'undefined' ? noop : start\n);\n","export default function(x) {\n  return x;\n}\n","import reverse from \"./reverse.js\";\nimport transform from \"./transform.js\";\n\nexport default function(topology, o) {\n  if (typeof o === \"string\") o = topology.objects[o];\n  return o.type === \"GeometryCollection\"\n      ? {type: \"FeatureCollection\", features: o.geometries.map(function(o) { return feature(topology, o); })}\n      : feature(topology, o);\n}\n\nfunction feature(topology, o) {\n  var id = o.id,\n      bbox = o.bbox,\n      properties = o.properties == null ? {} : o.properties,\n      geometry = object(topology, o);\n  return id == null && bbox == null ? {type: \"Feature\", properties: properties, geometry: geometry}\n      : bbox == null ? {type: \"Feature\", id: id, properties: properties, geometry: geometry}\n      : {type: \"Feature\", id: id, bbox: bbox, properties: properties, geometry: geometry};\n}\n\nexport function object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n    for (var i = 0, n = arcs.length; i < n; ++i) arc(arcs[i], points);\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n    while (points.length < 4) points.push(points[0]); // This may happen if an arc has only two points.\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type, coordinates;\n    switch (type) {\n      case \"GeometryCollection\": return {type: type, geometries: o.geometries.map(geometry)};\n      case \"Point\": coordinates = point(o.coordinates); break;\n      case \"MultiPoint\": coordinates = o.coordinates.map(point); break;\n      case \"LineString\": coordinates = line(o.arcs); break;\n      case \"MultiLineString\": coordinates = o.arcs.map(line); break;\n      case \"Polygon\": coordinates = polygon(o.arcs); break;\n      case \"MultiPolygon\": coordinates = o.arcs.map(polygon); break;\n      default: return null;\n    }\n    return {type: type, coordinates: coordinates};\n  }\n\n  return geometry(o);\n}\n","import identity from \"./identity.js\";\n\nexport default function(transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function(input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2, n = input.length, output = new Array(n);\n    output[0] = (x0 += input[0]) * kx + dx;\n    output[1] = (y0 += input[1]) * ky + dy;\n    while (j < n) output[j] = input[j], ++j;\n    return output;\n  };\n}\n","export default function(array, n) {\n  var t, j = array.length, i = j - n;\n  while (i < --j) t = array[i], array[i++] = array[j], array[j] = t;\n}\n","export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function bisector(f) {\n  let delta = f;\n  let compare1 = f;\n  let compare2 = f;\n\n  if (f.length !== 2) {\n    delta = (d, x) => f(d) - x;\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export default function number(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","// https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\nexport class Adder {\n  constructor() {\n    this._partials = new Float64Array(32);\n    this._n = 0;\n  }\n  add(x) {\n    const p = this._partials;\n    let i = 0;\n    for (let j = 0; j < this._n && j < 32; j++) {\n      const y = p[j],\n        hi = x + y,\n        lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n      if (lo) p[i++] = lo;\n      x = hi;\n    }\n    p[i] = x;\n    this._n = i + 1;\n    return this;\n  }\n  valueOf() {\n    const p = this._partials;\n    let n = this._n, x, y, lo, hi = 0;\n    if (n > 0) {\n      hi = p[--n];\n      while (n > 0) {\n        x = hi;\n        y = p[--n];\n        hi = x + y;\n        lo = y - (hi - x);\n        if (lo) break;\n      }\n      if (n > 0 && ((lo < 0 && p[n - 1] < 0) || (lo > 0 && p[n - 1] > 0))) {\n        y = lo * 2;\n        x = hi + y;\n        if (y == x - hi) hi = x;\n      }\n    }\n    return hi;\n  }\n}\n\nexport function fsum(values, valueof) {\n  const adder = new Adder();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        adder.add(value);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        adder.add(value);\n      }\n    }\n  }\n  return +adder;\n}\n\nexport function fcumsum(values, valueof) {\n  const adder = new Adder();\n  let index = -1;\n  return Float64Array.from(values, valueof === undefined\n      ? v => adder.add(+v || 0)\n      : v => adder.add(+valueof(v, ++index, values) || 0)\n  );\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function ticks(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    let r0 = Math.round(start / step), r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) * step;\n  } else {\n    step = -step;\n    let r0 = Math.round(start * step), r1 = Math.round(stop * step);\n    if (r0 / step < start) ++r0;\n    if (r1 / step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","function* flatten(arrays) {\n  for (const array of arrays) {\n    yield* array;\n  }\n}\n\nexport default function merge(arrays) {\n  return Array.from(flatten(arrays));\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var hypot = Math.hypot;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  return [abs(lambda) > pi ? lambda + Math.round(-lambda / tau) * tau : lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    return lambda += deltaLambda, [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport constant from \"./constant.js\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math.js\";\nimport {rotateRadians} from \"./rotation.js\";\n\n// Generates a circle centered at [0°, 0°], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(6),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import noop from \"../noop.js\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y, m) {\n      line.push([x, y, m]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","import {abs, epsilon} from \"./math.js\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import pointEqual from \"../pointEqual.js\";\nimport {epsilon} from \"../math.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    if (pointEqual(p0, p1)) {\n      if (!p0[2] && !p1[2]) {\n        stream.lineStart();\n        for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n        stream.lineEnd();\n        return;\n      }\n      // handle degenerate cases by moving the point\n      p1[0] += 2 * epsilon;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","import {Adder} from \"d3-array\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, epsilon2, halfPi, pi, quarterPi, sign, sin, tau} from \"./math.js\";\n\nfunction longitude(point) {\n  return abs(point[0]) <= pi ? point[0] : sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  var sum = new Adder();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the point’s meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon2) ^ (winding & 1);\n}\n","import clipBuffer from \"./buffer.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {epsilon, halfPi} from \"../math.js\";\nimport polygonContains from \"../polygonContains.js\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index.js\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math.js\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian.js\";\nimport {circleStream} from \"../circle.js\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math.js\";\nimport pointEqual from \"../pointEqual.js\";\nimport clip from \"./index.js\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 6 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2))\n            point1[2] = 1;\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1], 2);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1], 3);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1 ⨯ n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","import {abs, epsilon} from \"../math.js\";\nimport clipBuffer from \"./buffer.js\";\nimport clipLine from \"./line.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygon’s polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","import {Adder} from \"d3-array\";\nimport {abs} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar areaSum = new Adder(),\n    areaRingSum = new Adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum = new Adder();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum = new Adder();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","export default x => x;\n","import noop from \"../noop.js\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import {sqrt} from \"../math.js\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n","import {tau} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n","import {Adder} from \"d3-array\";\nimport {sqrt} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar lengthSum = new Adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum = new Adder();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","export default function PathString() {\n  this._string = [];\n}\n\nPathString.prototype = {\n  _radius: 4.5,\n  _circle: circle(4.5),\n  pointRadius: function(_) {\n    if ((_ = +_) !== this._radius) this._radius = _, this._circle = null;\n    return this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._string.push(\"Z\");\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._string.push(\"M\", x, \",\", y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._string.push(\"L\", x, \",\", y);\n        break;\n      }\n      default: {\n        if (this._circle == null) this._circle = circle(this._radius);\n        this._string.push(\"M\", x, \",\", y, this._circle);\n        break;\n      }\n    }\n  },\n  result: function() {\n    if (this._string.length) {\n      var result = this._string.join(\"\");\n      this._string = [];\n      return result;\n    } else {\n      return null;\n    }\n  }\n};\n\nfunction circle(radius) {\n  return \"m0,\" + radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + -2 * radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + 2 * radius\n      + \"z\";\n}\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import {default as geoStream} from \"../stream.js\";\nimport boundsStream from \"../path/bounds.js\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n","import {cartesian} from \"../cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math.js\";\nimport {transformer} from \"../transform.js\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian.js\";\nimport clipCircle from \"../clip/circle.js\";\nimport clipRectangle from \"../clip/rectangle.js\";\nimport compose from \"../compose.js\";\nimport identity from \"../identity.js\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math.js\";\nimport {rotateRadians} from \"../rotation.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport resample from \"./resample.js\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy, sx, sy) {\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k * sx, (dy - y) / k * sy];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, sx, sy, alpha) {\n  if (!alpha) return scaleTranslate(k, dx, dy, sx, sy);\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [sx * (ai * x - bi * y + ci), sy * (fi - bi * x - ai * y)];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate angle\n      sx = 1, // reflectX\n      sy = 1, // reflectX\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, recenter()) : sx < 0;\n  };\n\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, recenter()) : sy < 0;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, sx, sy, alpha).apply(null, project(lambda, phi)),\n        transform = scaleTranslateRotate(k, x - center[0], y - center[1], sx, sy, alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {abs, asin, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {cylindricalEqualAreaRaw} from \"./cylindricalEqualArea.js\";\n\nexport function conicEqualAreaRaw(y0, y1) {\n  var sy0 = sin(y0), n = (sy0 + sin(y1)) / 2;\n\n  // Are the parallels symmetrical around the Equator?\n  if (abs(n) < epsilon) return cylindricalEqualAreaRaw(y0);\n\n  var c = 1 + sy0 * (2 * n - sy0), r0 = sqrt(c) / n;\n\n  function project(x, y) {\n    var r = sqrt(c - 2 * n * sin(y)) / n;\n    return [r * sin(x *= n), r0 - r * cos(x)];\n  }\n\n  project.invert = function(x, y) {\n    var r0y = r0 - y,\n        l = atan2(x, abs(r0y)) * sign(r0y);\n    if (r0y * n < 0)\n      l -= pi * sign(x) * sign(r0y);\n    return [l / n, asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEqualAreaRaw)\n      .scale(155.424)\n      .center([0, 33.6442]);\n}\n","import {asin, cos, sin} from \"../math.js\";\n\nexport function cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n","import {degrees, pi, radians} from \"../math.js\";\nimport {projectionMutator} from \"./index.js\";\n\nexport function conicProjection(projectAt) {\n  var phi0 = 0,\n      phi1 = pi / 3,\n      m = projectionMutator(projectAt),\n      p = m(phi0, phi1);\n\n  p.parallels = function(_) {\n    return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees, phi1 * degrees];\n  };\n\n  return p;\n}\n","import {epsilon} from \"../math.js\";\nimport albers from \"./albers.js\";\nimport conicEqualArea from \"./conicEqualArea.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\n\n// The projections must have mutually exclusive clip regions on the sphere,\n// as this will avoid emitting interleaving lines and polygons.\nfunction multiplex(streams) {\n  var n = streams.length;\n  return {\n    point: function(x, y) { var i = -1; while (++i < n) streams[i].point(x, y); },\n    sphere: function() { var i = -1; while (++i < n) streams[i].sphere(); },\n    lineStart: function() { var i = -1; while (++i < n) streams[i].lineStart(); },\n    lineEnd: function() { var i = -1; while (++i < n) streams[i].lineEnd(); },\n    polygonStart: function() { var i = -1; while (++i < n) streams[i].polygonStart(); },\n    polygonEnd: function() { var i = -1; while (++i < n) streams[i].polygonEnd(); }\n  };\n}\n\n// A composite projection for the United States, configured by default for\n// 960×500. The projection also works quite well at 960×600 if you change the\n// scale to 1285 and adjust the translate accordingly. The set of standard\n// parallels for each region comes from USGS, which is published here:\n// http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\nexport default function() {\n  var cache,\n      cacheStream,\n      lower48 = albers(), lower48Point,\n      alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, // EPSG:3338\n      hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, // ESRI:102007\n      point, pointStream = {point: function(x, y) { point = [x, y]; }};\n\n  function albersUsa(coordinates) {\n    var x = coordinates[0], y = coordinates[1];\n    return point = null,\n        (lower48Point.point(x, y), point)\n        || (alaskaPoint.point(x, y), point)\n        || (hawaiiPoint.point(x, y), point);\n  }\n\n  albersUsa.invert = function(coordinates) {\n    var k = lower48.scale(),\n        t = lower48.translate(),\n        x = (coordinates[0] - t[0]) / k,\n        y = (coordinates[1] - t[1]) / k;\n    return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska\n        : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii\n        : lower48).invert(coordinates);\n  };\n\n  albersUsa.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n  };\n\n  albersUsa.precision = function(_) {\n    if (!arguments.length) return lower48.precision();\n    lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n    return reset();\n  };\n\n  albersUsa.scale = function(_) {\n    if (!arguments.length) return lower48.scale();\n    lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n    return albersUsa.translate(lower48.translate());\n  };\n\n  albersUsa.translate = function(_) {\n    if (!arguments.length) return lower48.translate();\n    var k = lower48.scale(), x = +_[0], y = +_[1];\n\n    lower48Point = lower48\n        .translate(_)\n        .clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]])\n        .stream(pointStream);\n\n    alaskaPoint = alaska\n        .translate([x - 0.307 * k, y + 0.201 * k])\n        .clipExtent([[x - 0.425 * k + epsilon, y + 0.120 * k + epsilon], [x - 0.214 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    hawaiiPoint = hawaii\n        .translate([x - 0.205 * k, y + 0.212 * k])\n        .clipExtent([[x - 0.214 * k + epsilon, y + 0.166 * k + epsilon], [x - 0.115 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    return reset();\n  };\n\n  albersUsa.fitExtent = function(extent, object) {\n    return fitExtent(albersUsa, extent, object);\n  };\n\n  albersUsa.fitSize = function(size, object) {\n    return fitSize(albersUsa, size, object);\n  };\n\n  albersUsa.fitWidth = function(width, object) {\n    return fitWidth(albersUsa, width, object);\n  };\n\n  albersUsa.fitHeight = function(height, object) {\n    return fitHeight(albersUsa, height, object);\n  };\n\n  function reset() {\n    cache = cacheStream = null;\n    return albersUsa;\n  }\n\n  return albersUsa.scale(1070);\n}\n","import conicEqualArea from \"./conicEqualArea.js\";\n\nexport default function() {\n  return conicEqualArea()\n      .parallels([29.5, 45.5])\n      .scale(1070)\n      .translate([480, 250])\n      .rotate([96, 0])\n      .center([-0.6, 38.7]);\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"−\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {interpolate, interpolateRound} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 1,\n      t0,\n      t1,\n      k10,\n      transform,\n      interpolator = identity,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : interpolator(k10 === 0 ? 0.5 : (x = (transform(x) - t0) * k10, clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0), scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1;\n      return arguments.length ? ([r0, r1] = _, interpolator = interpolate(r0, r1), scale) : [interpolator(0), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0);\n    return scale;\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .interpolator(source.interpolator())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport default function sequential() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, sequential());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialLog() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, sequentialLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSqrt() {\n  return sequentialPow.apply(null, arguments).exponent(0.5);\n}\n","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"] || \\\"\\\"\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows,\n    formatRow: formatRow,\n    formatValue: formatValue\n  };\n}\n","import dsv from \"./dsv.js\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\nexport var csvFormatRow = csv.formatRow;\nexport var csvFormatValue = csv.formatValue;\n","function responseText(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.text();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseText);\n}\n","import {csvParse, dsvFormat, tsvParse} from \"d3-dsv\";\nimport text from \"./text.js\";\n\nfunction dsvParse(parse) {\n  return function(input, init, row) {\n    if (arguments.length === 2 && typeof init === \"function\") row = init, init = undefined;\n    return text(input, init).then(function(response) {\n      return parse(response, row);\n    });\n  };\n}\n\nexport default function dsv(delimiter, input, init, row) {\n  if (arguments.length === 3 && typeof init === \"function\") row = init, init = undefined;\n  var format = dsvFormat(delimiter);\n  return text(input, init).then(function(response) {\n    return format.parse(response, row);\n  });\n}\n\nexport var csv = dsvParse(csvParse);\nexport var tsv = dsvParse(tsvParse);\n","<script>\n        import { mobile } from './store.js'\n\timport { Layer, t } from 'svelte-canvas'\n        import { interpolate, piecewise } from \"d3-interpolate\"\n        import { scaleSequential} from 'd3-scale'\n\n\texport let x = 0,\n                y = 0,\n                r = 1,\n                stroke = null,\n                change, \n                name, \n                state, \n                amount, \n                reference_year;\n\n        let colorScale = scaleSequential(piecewise(interpolate, [\"#d73027\", \"#ffffbf\", \"#4575b4\"])).domain([-10000, 10000])\n\n        let header_text = name + \", \" + state\n        let change_text = change > 0 \n                ? \"↑$\" + Math.abs(Math.trunc(change)).toLocaleString(\"en-US\") \n                : change < 0 \n                ? \"↓$\" + Math.abs(Math.trunc(change)).toLocaleString(\"en-US\") \n                : \"→$0 \"\n        let amount_text_beginning = \"Donated \" \n        let amount_text_middle = \"$\"+ Math.abs(Math.trunc(amount)).toLocaleString(\"en-US\") + \"  \"\n        let amount_text_end = \" in 2022\"\n        \n        let color = colorScale(change)\n\n        let mobile_annotate = header_text in {\"Orange County, CA\": 1, \"Harris County, TX\": 2}\n\t\t\n\t$: render = ({ context }) => {\n\n                context.save();\n                context.globalAlpha = 0.9;\n                context.fillStyle = color;\n                context.strokeStyle = \"#000\";\n                context.lineWidth = 1;\n                context.beginPath();\n                context.arc(x, y, r, 0, Math.PI * 2);\n                context.stroke();\n                context.fill();\n                context.restore();\n\n                // if ($mobile) {\n                //         if (mobile_annotate) {\n                                \n                                \n                //                 context.font = \"15px Aktiv Grotesk\";\n                //                 context.fillStyle = \"#000\";\n                //                 context.fillText(amount_text_beginning, x + 15, y + 70)\n\n                //                 context.font = \"15px Aktiv Grotesk XBold\";\n                //                 context.fillStyle = \"#000\";\n                //                 context.fillText(amount_text_middle, x + 15 + context.measureText(amount_text_beginning).width, y + 70)\n\n                //                 context.font = \"15px Aktiv Grotesk\";\n                //                 context.fillStyle = \"#000\";\n                //                 context.fillText(amount_text_end, x + 15 + context.measureText(amount_text_beginning).width + context.measureText(amount_text_middle).width, y + 70)\n                                \n                //                 context.font = \"15px Aktiv Grotesk XBold\";\n                //                 context.fillStyle = color;\n                //                 context.fillText(change_text, x + 15, y + 100);\n\n                //                 context.font = \"15px Aktiv Grotesk\";\n                //                 context.fillStyle = \"#000\";\n                //                 context.fillText(\" compared to \" + reference_year, x + 15 + context.measureText(change_text).width, y + 100)\n\n                //                 context.font = \"20px Aktiv Grotesk XBold\";\n                //                 context.fillStyle = \"#000\";\n                //                 context.fillText(header_text, x + 15, y + 40);\n                //         }\n                // }\n\n                if (stroke) {\n                        context.font = \"15px Aktiv Grotesk\";\n                        context.fillStyle = \"rgba(1, 1, 1, 0)\";\n                        context.fillText(amount_text_beginning + amount_text_end, x + 30, y + 70)\n                        context.font = \"15px Aktiv Grotesk XBold\"\n                        context.fillStyle = \"rgba(1, 1, 1, 0)\"\n                        context.fillText(amount_text_middle, x + 30, y + 70)\n                        var amount_text_width = context.measureText(amount_text_beginning + amount_text_middle + amount_text_end).width\n\n                        context.font = \"15px Aktiv Grotesk\";\n                        context.fillStyle = \"rgba(1, 1, 1, 0)\";\n                        context.fillText(change_text, x + 30, y + 100);\n                        var change_text_width = context.measureText(change_text).width\n\n                        context.font = \"15px Aktiv Grotesk\";\n                        context.fillStyle = \"rgba(1, 1, 1, 0)\";\n                        context.fillText(\" compared to 2020\", x + 30 + context.measureText(change_text).width, y + 100)\n                        var compared_text_width = context.measureText(\" compared to \" + reference_year).width\n\n                        context.font = \"20px Aktiv Grotesk XBold\";\n                        context.fillStyle = \"rgba(1, 1, 1, 0)\";\n                        context.fillText(header_text, x + 30, y + 30);\n                        var header_text_width = context.measureText(header_text).width\n\n                        var edge_x = document.querySelector(\"Canvas\").getBoundingClientRect().right - 10\n                        var edge_y = document.querySelector(\"Canvas\").getBoundingClientRect().bottom - 115\n\n                        var box_width = header_text_width >= change_text_width + compared_text_width\n                        ? header_text_width + 30\n                        : change_text_width + compared_text_width + 30\n\n                        box_width = box_width - 30 > amount_text_width \n                        ? box_width \n                        : amount_text_width + 30\n\n                        var box_height = 120\n\n                        var screen_adjust_x = x + 15 + box_width > edge_x ? x - 15 - box_width : x + 15\n                        var screen_adjust_y = y + box_height > edge_y ? y - box_height : y\n\n\n                        context.beginPath();\n                        context.roundRect(screen_adjust_x, screen_adjust_y, box_width, box_height, 10);\n                        context.strokeStyle = \"#FFFFFF\"\n                        context.fillStyle = \"rgba(153, 153, 153, 0.9)\"\n                        context.stroke();\n                        context.fill();\n\n                        context.strokeStyle = stroke;\n                        context.lineWidth = 2;\n                        context.beginPath();\n                        context.arc(x, y, r, 0, 2 * Math.PI);\n                        context.stroke();\n\n                        context.font = \"15px Aktiv Grotesk\";\n                        context.fillStyle = \"#FFFFFF\";\n                        context.fillText(amount_text_beginning, screen_adjust_x + 15, screen_adjust_y + 70)\n\n                        context.font = \"15px Aktiv Grotesk XBold\";\n                        context.fillStyle = \"#FFFFFF\";\n                        context.fillText(amount_text_middle, screen_adjust_x + 15 + context.measureText(amount_text_beginning).width, screen_adjust_y + 70)\n\n                        context.font = \"15px Aktiv Grotesk\";\n                        context.fillStyle = \"#FFFFFF\";\n                        context.fillText(amount_text_end, screen_adjust_x + 15 + context.measureText(amount_text_beginning).width + context.measureText(amount_text_middle).width, screen_adjust_y + 70)\n                        \n                        context.font = \"15px Aktiv Grotesk XBold\";\n                        context.fillStyle = color;\n                        context.fillText(change_text, screen_adjust_x + 15, screen_adjust_y + 100);\n\n                        context.font = \"15px Aktiv Grotesk\";\n                        context.fillStyle = \"#FFFFFF\";\n                        context.fillText(\" compared to \" + reference_year, screen_adjust_x + 15 + context.measureText(change_text).width, screen_adjust_y + 100)\n\n                        context.font = \"20px Aktiv Grotesk XBold\";\n                        context.fillStyle = \"#FFFFFF\";\n                        context.fillText(header_text, screen_adjust_x + 15, screen_adjust_y + 30);\n                  \n                }\n\t}\n\n</script>\n\n\n\n\n<Layer {render} />\n","import {default as value} from \"./value.js\";\n\nexport default function piecewise(interpolate, values) {\n  if (values === undefined) values = interpolate, interpolate = value;\n  var i = 0, n = values.length - 1, v = values[0], I = new Array(n < 0 ? 0 : n);\n  while (i < n) I[i] = interpolate(v, v = values[++i]);\n  return function(t) {\n    var i = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));\n    return I[i](t - i);\n  };\n}\n","export const epsilon = 1.1102230246251565e-16;\nexport const splitter = 134217729;\nexport const resulterrbound = (3 + 8 * epsilon) * epsilon;\n\n// fast_expansion_sum_zeroelim routine from oritinal code\nexport function sum(elen, e, flen, f, h) {\n    let Q, Qnew, hh, bvirt;\n    let enow = e[0];\n    let fnow = f[0];\n    let eindex = 0;\n    let findex = 0;\n    if ((fnow > enow) === (fnow > -enow)) {\n        Q = enow;\n        enow = e[++eindex];\n    } else {\n        Q = fnow;\n        fnow = f[++findex];\n    }\n    let hindex = 0;\n    if (eindex < elen && findex < flen) {\n        if ((fnow > enow) === (fnow > -enow)) {\n            Qnew = enow + Q;\n            hh = Q - (Qnew - enow);\n            enow = e[++eindex];\n        } else {\n            Qnew = fnow + Q;\n            hh = Q - (Qnew - fnow);\n            fnow = f[++findex];\n        }\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n        while (eindex < elen && findex < flen) {\n            if ((fnow > enow) === (fnow > -enow)) {\n                Qnew = Q + enow;\n                bvirt = Qnew - Q;\n                hh = Q - (Qnew - bvirt) + (enow - bvirt);\n                enow = e[++eindex];\n            } else {\n                Qnew = Q + fnow;\n                bvirt = Qnew - Q;\n                hh = Q - (Qnew - bvirt) + (fnow - bvirt);\n                fnow = f[++findex];\n            }\n            Q = Qnew;\n            if (hh !== 0) {\n                h[hindex++] = hh;\n            }\n        }\n    }\n    while (eindex < elen) {\n        Qnew = Q + enow;\n        bvirt = Qnew - Q;\n        hh = Q - (Qnew - bvirt) + (enow - bvirt);\n        enow = e[++eindex];\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    while (findex < flen) {\n        Qnew = Q + fnow;\n        bvirt = Qnew - Q;\n        hh = Q - (Qnew - bvirt) + (fnow - bvirt);\n        fnow = f[++findex];\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    if (Q !== 0 || hindex === 0) {\n        h[hindex++] = Q;\n    }\n    return hindex;\n}\n\nexport function sum_three(alen, a, blen, b, clen, c, tmp, out) {\n    return sum(sum(alen, a, blen, b, tmp), tmp, clen, c, out);\n}\n\n// scale_expansion_zeroelim routine from oritinal code\nexport function scale(elen, e, b, h) {\n    let Q, sum, hh, product1, product0;\n    let bvirt, c, ahi, alo, bhi, blo;\n\n    c = splitter * b;\n    bhi = c - (c - b);\n    blo = b - bhi;\n    let enow = e[0];\n    Q = enow * b;\n    c = splitter * enow;\n    ahi = c - (c - enow);\n    alo = enow - ahi;\n    hh = alo * blo - (Q - ahi * bhi - alo * bhi - ahi * blo);\n    let hindex = 0;\n    if (hh !== 0) {\n        h[hindex++] = hh;\n    }\n    for (let i = 1; i < elen; i++) {\n        enow = e[i];\n        product1 = enow * b;\n        c = splitter * enow;\n        ahi = c - (c - enow);\n        alo = enow - ahi;\n        product0 = alo * blo - (product1 - ahi * bhi - alo * bhi - ahi * blo);\n        sum = Q + product0;\n        bvirt = sum - Q;\n        hh = Q - (sum - bvirt) + (product0 - bvirt);\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n        Q = product1 + sum;\n        hh = sum - (Q - product1);\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    if (Q !== 0 || hindex === 0) {\n        h[hindex++] = Q;\n    }\n    return hindex;\n}\n\nexport function negate(elen, e) {\n    for (let i = 0; i < elen; i++) e[i] = -e[i];\n    return elen;\n}\n\nexport function estimate(elen, e) {\n    let Q = e[0];\n    for (let i = 1; i < elen; i++) Q += e[i];\n    return Q;\n}\n\nexport function vec(n) {\n    return new Float64Array(n);\n}\n","import {epsilon, splitter, resulterrbound, estimate, vec, sum} from './util.js';\n\nconst ccwerrboundA = (3 + 16 * epsilon) * epsilon;\nconst ccwerrboundB = (2 + 12 * epsilon) * epsilon;\nconst ccwerrboundC = (9 + 64 * epsilon) * epsilon * epsilon;\n\nconst B = vec(4);\nconst C1 = vec(8);\nconst C2 = vec(12);\nconst D = vec(16);\nconst u = vec(4);\n\nfunction orient2dadapt(ax, ay, bx, by, cx, cy, detsum) {\n    let acxtail, acytail, bcxtail, bcytail;\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\n\n    const acx = ax - cx;\n    const bcx = bx - cx;\n    const acy = ay - cy;\n    const bcy = by - cy;\n\n    s1 = acx * bcy;\n    c = splitter * acx;\n    ahi = c - (c - acx);\n    alo = acx - ahi;\n    c = splitter * bcy;\n    bhi = c - (c - bcy);\n    blo = bcy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acy * bcx;\n    c = splitter * acy;\n    ahi = c - (c - acy);\n    alo = acy - ahi;\n    c = splitter * bcx;\n    bhi = c - (c - bcx);\n    blo = bcx - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    B[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    B[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    B[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    B[3] = u3;\n\n    let det = estimate(4, B);\n    let errbound = ccwerrboundB * detsum;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - acx;\n    acxtail = ax - (acx + bvirt) + (bvirt - cx);\n    bvirt = bx - bcx;\n    bcxtail = bx - (bcx + bvirt) + (bvirt - cx);\n    bvirt = ay - acy;\n    acytail = ay - (acy + bvirt) + (bvirt - cy);\n    bvirt = by - bcy;\n    bcytail = by - (bcy + bvirt) + (bvirt - cy);\n\n    if (acxtail === 0 && acytail === 0 && bcxtail === 0 && bcytail === 0) {\n        return det;\n    }\n\n    errbound = ccwerrboundC * detsum + resulterrbound * Math.abs(det);\n    det += (acx * bcytail + bcy * acxtail) - (acy * bcxtail + bcx * acytail);\n    if (det >= errbound || -det >= errbound) return det;\n\n    s1 = acxtail * bcy;\n    c = splitter * acxtail;\n    ahi = c - (c - acxtail);\n    alo = acxtail - ahi;\n    c = splitter * bcy;\n    bhi = c - (c - bcy);\n    blo = bcy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acytail * bcx;\n    c = splitter * acytail;\n    ahi = c - (c - acytail);\n    alo = acytail - ahi;\n    c = splitter * bcx;\n    bhi = c - (c - bcx);\n    blo = bcx - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const C1len = sum(4, B, 4, u, C1);\n\n    s1 = acx * bcytail;\n    c = splitter * acx;\n    ahi = c - (c - acx);\n    alo = acx - ahi;\n    c = splitter * bcytail;\n    bhi = c - (c - bcytail);\n    blo = bcytail - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acy * bcxtail;\n    c = splitter * acy;\n    ahi = c - (c - acy);\n    alo = acy - ahi;\n    c = splitter * bcxtail;\n    bhi = c - (c - bcxtail);\n    blo = bcxtail - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const C2len = sum(C1len, C1, 4, u, C2);\n\n    s1 = acxtail * bcytail;\n    c = splitter * acxtail;\n    ahi = c - (c - acxtail);\n    alo = acxtail - ahi;\n    c = splitter * bcytail;\n    bhi = c - (c - bcytail);\n    blo = bcytail - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acytail * bcxtail;\n    c = splitter * acytail;\n    ahi = c - (c - acytail);\n    alo = acytail - ahi;\n    c = splitter * bcxtail;\n    bhi = c - (c - bcxtail);\n    blo = bcxtail - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const Dlen = sum(C2len, C2, 4, u, D);\n\n    return D[Dlen - 1];\n}\n\nexport function orient2d(ax, ay, bx, by, cx, cy) {\n    const detleft = (ay - cy) * (bx - cx);\n    const detright = (ax - cx) * (by - cy);\n    const det = detleft - detright;\n\n    if (detleft === 0 || detright === 0 || (detleft > 0) !== (detright > 0)) return det;\n\n    const detsum = Math.abs(detleft + detright);\n    if (Math.abs(det) >= ccwerrboundA * detsum) return det;\n\n    return -orient2dadapt(ax, ay, bx, by, cx, cy, detsum);\n}\n\nexport function orient2dfast(ax, ay, bx, by, cx, cy) {\n    return (ay - cy) * (bx - cx) - (ax - cx) * (by - cy);\n}\n","\nconst EPSILON = Math.pow(2, -52);\nconst EDGE_STACK = new Uint32Array(512);\n\nimport {orient2d} from 'robust-predicates';\n\nexport default class Delaunator {\n\n    static from(points, getX = defaultGetX, getY = defaultGetY) {\n        const n = points.length;\n        const coords = new Float64Array(n * 2);\n\n        for (let i = 0; i < n; i++) {\n            const p = points[i];\n            coords[2 * i] = getX(p);\n            coords[2 * i + 1] = getY(p);\n        }\n\n        return new Delaunator(coords);\n    }\n\n    constructor(coords) {\n        const n = coords.length >> 1;\n        if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\n\n        this.coords = coords;\n\n        // arrays that will store the triangulation graph\n        const maxTriangles = Math.max(2 * n - 5, 0);\n        this._triangles = new Uint32Array(maxTriangles * 3);\n        this._halfedges = new Int32Array(maxTriangles * 3);\n\n        // temporary arrays for tracking the edges of the advancing convex hull\n        this._hashSize = Math.ceil(Math.sqrt(n));\n        this._hullPrev = new Uint32Array(n); // edge to prev edge\n        this._hullNext = new Uint32Array(n); // edge to next edge\n        this._hullTri = new Uint32Array(n); // edge to adjacent triangle\n        this._hullHash = new Int32Array(this._hashSize).fill(-1); // angular edge hash\n\n        // temporary arrays for sorting points\n        this._ids = new Uint32Array(n);\n        this._dists = new Float64Array(n);\n\n        this.update();\n    }\n\n    update() {\n        const {coords, _hullPrev: hullPrev, _hullNext: hullNext, _hullTri: hullTri, _hullHash: hullHash} =  this;\n        const n = coords.length >> 1;\n\n        // populate an array of point indices; calculate input data bbox\n        let minX = Infinity;\n        let minY = Infinity;\n        let maxX = -Infinity;\n        let maxY = -Infinity;\n\n        for (let i = 0; i < n; i++) {\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n            this._ids[i] = i;\n        }\n        const cx = (minX + maxX) / 2;\n        const cy = (minY + maxY) / 2;\n\n        let minDist = Infinity;\n        let i0, i1, i2;\n\n        // pick a seed point close to the center\n        for (let i = 0; i < n; i++) {\n            const d = dist(cx, cy, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist) {\n                i0 = i;\n                minDist = d;\n            }\n        }\n        const i0x = coords[2 * i0];\n        const i0y = coords[2 * i0 + 1];\n\n        minDist = Infinity;\n\n        // find the point closest to the seed\n        for (let i = 0; i < n; i++) {\n            if (i === i0) continue;\n            const d = dist(i0x, i0y, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist && d > 0) {\n                i1 = i;\n                minDist = d;\n            }\n        }\n        let i1x = coords[2 * i1];\n        let i1y = coords[2 * i1 + 1];\n\n        let minRadius = Infinity;\n\n        // find the third point which forms the smallest circumcircle with the first two\n        for (let i = 0; i < n; i++) {\n            if (i === i0 || i === i1) continue;\n            const r = circumradius(i0x, i0y, i1x, i1y, coords[2 * i], coords[2 * i + 1]);\n            if (r < minRadius) {\n                i2 = i;\n                minRadius = r;\n            }\n        }\n        let i2x = coords[2 * i2];\n        let i2y = coords[2 * i2 + 1];\n\n        if (minRadius === Infinity) {\n            // order collinear points by dx (or dy if all x are identical)\n            // and return the list as a hull\n            for (let i = 0; i < n; i++) {\n                this._dists[i] = (coords[2 * i] - coords[0]) || (coords[2 * i + 1] - coords[1]);\n            }\n            quicksort(this._ids, this._dists, 0, n - 1);\n            const hull = new Uint32Array(n);\n            let j = 0;\n            for (let i = 0, d0 = -Infinity; i < n; i++) {\n                const id = this._ids[i];\n                if (this._dists[id] > d0) {\n                    hull[j++] = id;\n                    d0 = this._dists[id];\n                }\n            }\n            this.hull = hull.subarray(0, j);\n            this.triangles = new Uint32Array(0);\n            this.halfedges = new Uint32Array(0);\n            return;\n        }\n\n        // swap the order of the seed points for counter-clockwise orientation\n        if (orient2d(i0x, i0y, i1x, i1y, i2x, i2y) < 0) {\n            const i = i1;\n            const x = i1x;\n            const y = i1y;\n            i1 = i2;\n            i1x = i2x;\n            i1y = i2y;\n            i2 = i;\n            i2x = x;\n            i2y = y;\n        }\n\n        const center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\n        this._cx = center.x;\n        this._cy = center.y;\n\n        for (let i = 0; i < n; i++) {\n            this._dists[i] = dist(coords[2 * i], coords[2 * i + 1], center.x, center.y);\n        }\n\n        // sort the points by distance from the seed triangle circumcenter\n        quicksort(this._ids, this._dists, 0, n - 1);\n\n        // set up the seed triangle as the starting hull\n        this._hullStart = i0;\n        let hullSize = 3;\n\n        hullNext[i0] = hullPrev[i2] = i1;\n        hullNext[i1] = hullPrev[i0] = i2;\n        hullNext[i2] = hullPrev[i1] = i0;\n\n        hullTri[i0] = 0;\n        hullTri[i1] = 1;\n        hullTri[i2] = 2;\n\n        hullHash.fill(-1);\n        hullHash[this._hashKey(i0x, i0y)] = i0;\n        hullHash[this._hashKey(i1x, i1y)] = i1;\n        hullHash[this._hashKey(i2x, i2y)] = i2;\n\n        this.trianglesLen = 0;\n        this._addTriangle(i0, i1, i2, -1, -1, -1);\n\n        for (let k = 0, xp, yp; k < this._ids.length; k++) {\n            const i = this._ids[k];\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n\n            // skip near-duplicate points\n            if (k > 0 && Math.abs(x - xp) <= EPSILON && Math.abs(y - yp) <= EPSILON) continue;\n            xp = x;\n            yp = y;\n\n            // skip seed triangle points\n            if (i === i0 || i === i1 || i === i2) continue;\n\n            // find a visible edge on the convex hull using edge hash\n            let start = 0;\n            for (let j = 0, key = this._hashKey(x, y); j < this._hashSize; j++) {\n                start = hullHash[(key + j) % this._hashSize];\n                if (start !== -1 && start !== hullNext[start]) break;\n            }\n\n            start = hullPrev[start];\n            let e = start, q;\n            while (q = hullNext[e], orient2d(x, y, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1]) >= 0) {\n                e = q;\n                if (e === start) {\n                    e = -1;\n                    break;\n                }\n            }\n            if (e === -1) continue; // likely a near-duplicate point; skip it\n\n            // add the first triangle from the point\n            let t = this._addTriangle(e, i, hullNext[e], -1, -1, hullTri[e]);\n\n            // recursively flip triangles from the point until they satisfy the Delaunay condition\n            hullTri[i] = this._legalize(t + 2);\n            hullTri[e] = t; // keep track of boundary triangles on the hull\n            hullSize++;\n\n            // walk forward through the hull, adding more triangles and flipping recursively\n            let n = hullNext[e];\n            while (q = hullNext[n], orient2d(x, y, coords[2 * n], coords[2 * n + 1], coords[2 * q], coords[2 * q + 1]) < 0) {\n                t = this._addTriangle(n, i, q, hullTri[i], -1, hullTri[n]);\n                hullTri[i] = this._legalize(t + 2);\n                hullNext[n] = n; // mark as removed\n                hullSize--;\n                n = q;\n            }\n\n            // walk backward from the other side, adding more triangles and flipping\n            if (e === start) {\n                while (q = hullPrev[e], orient2d(x, y, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1]) < 0) {\n                    t = this._addTriangle(q, i, e, -1, hullTri[e], hullTri[q]);\n                    this._legalize(t + 2);\n                    hullTri[q] = t;\n                    hullNext[e] = e; // mark as removed\n                    hullSize--;\n                    e = q;\n                }\n            }\n\n            // update the hull indices\n            this._hullStart = hullPrev[i] = e;\n            hullNext[e] = hullPrev[n] = i;\n            hullNext[i] = n;\n\n            // save the two new edges in the hash table\n            hullHash[this._hashKey(x, y)] = i;\n            hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\n        }\n\n        this.hull = new Uint32Array(hullSize);\n        for (let i = 0, e = this._hullStart; i < hullSize; i++) {\n            this.hull[i] = e;\n            e = hullNext[e];\n        }\n\n        // trim typed triangle mesh arrays\n        this.triangles = this._triangles.subarray(0, this.trianglesLen);\n        this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\n    }\n\n    _hashKey(x, y) {\n        return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\n    }\n\n    _legalize(a) {\n        const {_triangles: triangles, _halfedges: halfedges, coords} = this;\n\n        let i = 0;\n        let ar = 0;\n\n        // recursion eliminated with a fixed-size stack\n        while (true) {\n            const b = halfedges[a];\n\n            /* if the pair of triangles doesn't satisfy the Delaunay condition\n             * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\n             * then do the same check/flip recursively for the new pair of triangles\n             *\n             *           pl                    pl\n             *          /||\\                  /  \\\n             *       al/ || \\bl            al/    \\a\n             *        /  ||  \\              /      \\\n             *       /  a||b  \\    flip    /___ar___\\\n             *     p0\\   ||   /p1   =>   p0\\---bl---/p1\n             *        \\  ||  /              \\      /\n             *       ar\\ || /br             b\\    /br\n             *          \\||/                  \\  /\n             *           pr                    pr\n             */\n            const a0 = a - a % 3;\n            ar = a0 + (a + 2) % 3;\n\n            if (b === -1) { // convex hull edge\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n                continue;\n            }\n\n            const b0 = b - b % 3;\n            const al = a0 + (a + 1) % 3;\n            const bl = b0 + (b + 2) % 3;\n\n            const p0 = triangles[ar];\n            const pr = triangles[a];\n            const pl = triangles[al];\n            const p1 = triangles[bl];\n\n            const illegal = inCircle(\n                coords[2 * p0], coords[2 * p0 + 1],\n                coords[2 * pr], coords[2 * pr + 1],\n                coords[2 * pl], coords[2 * pl + 1],\n                coords[2 * p1], coords[2 * p1 + 1]);\n\n            if (illegal) {\n                triangles[a] = p1;\n                triangles[b] = p0;\n\n                const hbl = halfedges[bl];\n\n                // edge swapped on the other side of the hull (rare); fix the halfedge reference\n                if (hbl === -1) {\n                    let e = this._hullStart;\n                    do {\n                        if (this._hullTri[e] === bl) {\n                            this._hullTri[e] = a;\n                            break;\n                        }\n                        e = this._hullPrev[e];\n                    } while (e !== this._hullStart);\n                }\n                this._link(a, hbl);\n                this._link(b, halfedges[ar]);\n                this._link(ar, bl);\n\n                const br = b0 + (b + 1) % 3;\n\n                // don't worry about hitting the cap: it can only happen on extremely degenerate input\n                if (i < EDGE_STACK.length) {\n                    EDGE_STACK[i++] = br;\n                }\n            } else {\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n            }\n        }\n\n        return ar;\n    }\n\n    _link(a, b) {\n        this._halfedges[a] = b;\n        if (b !== -1) this._halfedges[b] = a;\n    }\n\n    // add a new triangle given vertex indices and adjacent half-edge ids\n    _addTriangle(i0, i1, i2, a, b, c) {\n        const t = this.trianglesLen;\n\n        this._triangles[t] = i0;\n        this._triangles[t + 1] = i1;\n        this._triangles[t + 2] = i2;\n\n        this._link(t, a);\n        this._link(t + 1, b);\n        this._link(t + 2, c);\n\n        this.trianglesLen += 3;\n\n        return t;\n    }\n}\n\n// monotonically increases with real angle, but doesn't need expensive trigonometry\nfunction pseudoAngle(dx, dy) {\n    const p = dx / (Math.abs(dx) + Math.abs(dy));\n    return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\n}\n\nfunction dist(ax, ay, bx, by) {\n    const dx = ax - bx;\n    const dy = ay - by;\n    return dx * dx + dy * dy;\n}\n\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\n    const dx = ax - px;\n    const dy = ay - py;\n    const ex = bx - px;\n    const ey = by - py;\n    const fx = cx - px;\n    const fy = cy - py;\n\n    const ap = dx * dx + dy * dy;\n    const bp = ex * ex + ey * ey;\n    const cp = fx * fx + fy * fy;\n\n    return dx * (ey * cp - bp * fy) -\n           dy * (ex * cp - bp * fx) +\n           ap * (ex * fy - ey * fx) < 0;\n}\n\nfunction circumradius(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = (ey * bl - dy * cl) * d;\n    const y = (dx * cl - ex * bl) * d;\n\n    return x * x + y * y;\n}\n\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = ax + (ey * bl - dy * cl) * d;\n    const y = ay + (dx * cl - ex * bl) * d;\n\n    return {x, y};\n}\n\nfunction quicksort(ids, dists, left, right) {\n    if (right - left <= 20) {\n        for (let i = left + 1; i <= right; i++) {\n            const temp = ids[i];\n            const tempDist = dists[temp];\n            let j = i - 1;\n            while (j >= left && dists[ids[j]] > tempDist) ids[j + 1] = ids[j--];\n            ids[j + 1] = temp;\n        }\n    } else {\n        const median = (left + right) >> 1;\n        let i = left + 1;\n        let j = right;\n        swap(ids, median, i);\n        if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\n        if (dists[ids[i]] > dists[ids[right]]) swap(ids, i, right);\n        if (dists[ids[left]] > dists[ids[i]]) swap(ids, left, i);\n\n        const temp = ids[i];\n        const tempDist = dists[temp];\n        while (true) {\n            do i++; while (dists[ids[i]] < tempDist);\n            do j--; while (dists[ids[j]] > tempDist);\n            if (j < i) break;\n            swap(ids, i, j);\n        }\n        ids[left + 1] = ids[j];\n        ids[j] = temp;\n\n        if (right - i + 1 >= j - left) {\n            quicksort(ids, dists, i, right);\n            quicksort(ids, dists, left, j - 1);\n        } else {\n            quicksort(ids, dists, left, j - 1);\n            quicksort(ids, dists, i, right);\n        }\n    }\n}\n\nfunction swap(arr, i, j) {\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultGetX(p) {\n    return p[0];\n}\nfunction defaultGetY(p) {\n    return p[1];\n}\n","const epsilon = 1e-6;\n\nexport default class Path {\n  constructor() {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n  }\n  moveTo(x, y) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  }\n  lineTo(x, y) {\n    this._ += `L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arc(x, y, r) {\n    x = +x, y = +y, r = +r;\n    const x0 = x + r;\n    const y0 = y;\n    if (r < 0) throw new Error(\"negative radius\");\n    if (this._x1 === null) this._ += `M${x0},${y0}`;\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) this._ += \"L\" + x0 + \",\" + y0;\n    if (!r) return;\n    this._ += `A${r},${r},0,1,1,${x - r},${y}A${r},${r},0,1,1,${this._x1 = x0},${this._y1 = y0}`;\n  }\n  rect(x, y, w, h) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${+w}v${+h}h${-w}Z`;\n  }\n  value() {\n    return this._ || null;\n  }\n}\n","export default class Polygon {\n  constructor() {\n    this._ = [];\n  }\n  moveTo(x, y) {\n    this._.push([x, y]);\n  }\n  closePath() {\n    this._.push(this._[0].slice());\n  }\n  lineTo(x, y) {\n    this._.push([x, y]);\n  }\n  value() {\n    return this._.length ? this._ : null;\n  }\n}\n","import Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\n\nexport default class Voronoi {\n  constructor(delaunay, [xmin, ymin, xmax, ymax] = [0, 0, 960, 500]) {\n    if (!((xmax = +xmax) >= (xmin = +xmin)) || !((ymax = +ymax) >= (ymin = +ymin))) throw new Error(\"invalid bounds\");\n    this.delaunay = delaunay;\n    this._circumcenters = new Float64Array(delaunay.points.length * 2);\n    this.vectors = new Float64Array(delaunay.points.length * 2);\n    this.xmax = xmax, this.xmin = xmin;\n    this.ymax = ymax, this.ymin = ymin;\n    this._init();\n  }\n  update() {\n    this.delaunay.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const {delaunay: {points, hull, triangles}, vectors} = this;\n\n    // Compute circumcenters.\n    const circumcenters = this.circumcenters = this._circumcenters.subarray(0, triangles.length / 3 * 2);\n    for (let i = 0, j = 0, n = triangles.length, x, y; i < n; i += 3, j += 2) {\n      const t1 = triangles[i] * 2;\n      const t2 = triangles[i + 1] * 2;\n      const t3 = triangles[i + 2] * 2;\n      const x1 = points[t1];\n      const y1 = points[t1 + 1];\n      const x2 = points[t2];\n      const y2 = points[t2 + 1];\n      const x3 = points[t3];\n      const y3 = points[t3 + 1];\n\n      const dx = x2 - x1;\n      const dy = y2 - y1;\n      const ex = x3 - x1;\n      const ey = y3 - y1;\n      const ab = (dx * ey - dy * ex) * 2;\n\n      if (Math.abs(ab) < 1e-9) {\n        // degenerate case (collinear diagram)\n        // almost equal points (degenerate triangle)\n        // the circumcenter is at the infinity, in a\n        // direction that is:\n        // 1. orthogonal to the halfedge.\n        let a = 1e9;\n        // 2. points away from the center; since the list of triangles starts\n        // in the center, the first point of the first triangle\n        // will be our reference\n        const r = triangles[0] * 2;\n        a *= Math.sign((points[r] - x1) * ey - (points[r + 1] - y1) * ex);\n        x = (x1 + x3) / 2 - a * ey;\n        y = (y1 + y3) / 2 + a * ex;\n      } else {\n        const d = 1 / ab;\n        const bl = dx * dx + dy * dy;\n        const cl = ex * ex + ey * ey;\n        x = x1 + (ey * bl - dy * cl) * d;\n        y = y1 + (dx * cl - ex * bl) * d;\n      }\n      circumcenters[j] = x;\n      circumcenters[j + 1] = y;\n    }\n\n    // Compute exterior cell rays.\n    let h = hull[hull.length - 1];\n    let p0, p1 = h * 4;\n    let x0, x1 = points[2 * h];\n    let y0, y1 = points[2 * h + 1];\n    vectors.fill(0);\n    for (let i = 0; i < hull.length; ++i) {\n      h = hull[i];\n      p0 = p1, x0 = x1, y0 = y1;\n      p1 = h * 4, x1 = points[2 * h], y1 = points[2 * h + 1];\n      vectors[p0 + 2] = vectors[p1] = y0 - y1;\n      vectors[p0 + 3] = vectors[p1 + 1] = x1 - x0;\n    }\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {delaunay: {halfedges, inedges, hull}, circumcenters, vectors} = this;\n    if (hull.length <= 1) return null;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = Math.floor(i / 3) * 2;\n      const tj = Math.floor(j / 3) * 2;\n      const xi = circumcenters[ti];\n      const yi = circumcenters[ti + 1];\n      const xj = circumcenters[tj];\n      const yj = circumcenters[tj + 1];\n      this._renderSegment(xi, yi, xj, yj, context);\n    }\n    let h0, h1 = hull[hull.length - 1];\n    for (let i = 0; i < hull.length; ++i) {\n      h0 = h1, h1 = hull[i];\n      const t = Math.floor(inedges[h1] / 3) * 2;\n      const x = circumcenters[t];\n      const y = circumcenters[t + 1];\n      const v = h0 * 4;\n      const p = this._project(x, y, vectors[v + 2], vectors[v + 3]);\n      if (p) this._renderSegment(x, y, p[0], p[1], context);\n    }\n    return buffer && buffer.value();\n  }\n  renderBounds(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    context.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin);\n    return buffer && buffer.value();\n  }\n  renderCell(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const points = this._clip(i);\n    if (points === null || !points.length) return;\n    context.moveTo(points[0], points[1]);\n    let n = points.length;\n    while (points[0] === points[n-2] && points[1] === points[n-1] && n > 1) n -= 2;\n    for (let i = 2; i < n; i += 2) {\n      if (points[i] !== points[i-2] || points[i+1] !== points[i-1])\n        context.lineTo(points[i], points[i + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *cellPolygons() {\n    const {delaunay: {points}} = this;\n    for (let i = 0, n = points.length / 2; i < n; ++i) {\n      const cell = this.cellPolygon(i);\n      if (cell) cell.index = i, yield cell;\n    }\n  }\n  cellPolygon(i) {\n    const polygon = new Polygon;\n    this.renderCell(i, polygon);\n    return polygon.value();\n  }\n  _renderSegment(x0, y0, x1, y1, context) {\n    let S;\n    const c0 = this._regioncode(x0, y0);\n    const c1 = this._regioncode(x1, y1);\n    if (c0 === 0 && c1 === 0) {\n      context.moveTo(x0, y0);\n      context.lineTo(x1, y1);\n    } else if (S = this._clipSegment(x0, y0, x1, y1, c0, c1)) {\n      context.moveTo(S[0], S[1]);\n      context.lineTo(S[2], S[3]);\n    }\n  }\n  contains(i, x, y) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return false;\n    return this.delaunay._step(i, x, y) === i;\n  }\n  *neighbors(i) {\n    const ci = this._clip(i);\n    if (ci) for (const j of this.delaunay.neighbors(i)) {\n      const cj = this._clip(j);\n      // find the common edge\n      if (cj) loop: for (let ai = 0, li = ci.length; ai < li; ai += 2) {\n        for (let aj = 0, lj = cj.length; aj < lj; aj += 2) {\n          if (ci[ai] == cj[aj]\n          && ci[ai + 1] == cj[aj + 1]\n          && ci[(ai + 2) % li] == cj[(aj + lj - 2) % lj]\n          && ci[(ai + 3) % li] == cj[(aj + lj - 1) % lj]\n          ) {\n            yield j;\n            break loop;\n          }\n        }\n      }\n    }\n  }\n  _cell(i) {\n    const {circumcenters, delaunay: {inedges, halfedges, triangles}} = this;\n    const e0 = inedges[i];\n    if (e0 === -1) return null; // coincident point\n    const points = [];\n    let e = e0;\n    do {\n      const t = Math.floor(e / 3);\n      points.push(circumcenters[t * 2], circumcenters[t * 2 + 1]);\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n    } while (e !== e0 && e !== -1);\n    return points;\n  }\n  _clip(i) {\n    // degenerate case (1 valid point: return the box)\n    if (i === 0 && this.delaunay.hull.length === 1) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    const points = this._cell(i);\n    if (points === null) return null;\n    const {vectors: V} = this;\n    const v = i * 4;\n    return V[v] || V[v + 1]\n        ? this._clipInfinite(i, points, V[v], V[v + 1], V[v + 2], V[v + 3])\n        : this._clipFinite(i, points);\n  }\n  _clipFinite(i, points) {\n    const n = points.length;\n    let P = null;\n    let x0, y0, x1 = points[n - 2], y1 = points[n - 1];\n    let c0, c1 = this._regioncode(x1, y1);\n    let e0, e1 = 0;\n    for (let j = 0; j < n; j += 2) {\n      x0 = x1, y0 = y1, x1 = points[j], y1 = points[j + 1];\n      c0 = c1, c1 = this._regioncode(x1, y1);\n      if (c0 === 0 && c1 === 0) {\n        e0 = e1, e1 = 0;\n        if (P) P.push(x1, y1);\n        else P = [x1, y1];\n      } else {\n        let S, sx0, sy0, sx1, sy1;\n        if (c0 === 0) {\n          if ((S = this._clipSegment(x0, y0, x1, y1, c0, c1)) === null) continue;\n          [sx0, sy0, sx1, sy1] = S;\n        } else {\n          if ((S = this._clipSegment(x1, y1, x0, y0, c1, c0)) === null) continue;\n          [sx1, sy1, sx0, sy0] = S;\n          e0 = e1, e1 = this._edgecode(sx0, sy0);\n          if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n          if (P) P.push(sx0, sy0);\n          else P = [sx0, sy0];\n        }\n        e0 = e1, e1 = this._edgecode(sx1, sy1);\n        if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n        if (P) P.push(sx1, sy1);\n        else P = [sx1, sy1];\n      }\n    }\n    if (P) {\n      e0 = e1, e1 = this._edgecode(P[0], P[1]);\n      if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    return P;\n  }\n  _clipSegment(x0, y0, x1, y1, c0, c1) {\n    while (true) {\n      if (c0 === 0 && c1 === 0) return [x0, y0, x1, y1];\n      if (c0 & c1) return null;\n      let x, y, c = c0 || c1;\n      if (c & 0b1000) x = x0 + (x1 - x0) * (this.ymax - y0) / (y1 - y0), y = this.ymax;\n      else if (c & 0b0100) x = x0 + (x1 - x0) * (this.ymin - y0) / (y1 - y0), y = this.ymin;\n      else if (c & 0b0010) y = y0 + (y1 - y0) * (this.xmax - x0) / (x1 - x0), x = this.xmax;\n      else y = y0 + (y1 - y0) * (this.xmin - x0) / (x1 - x0), x = this.xmin;\n      if (c0) x0 = x, y0 = y, c0 = this._regioncode(x0, y0);\n      else x1 = x, y1 = y, c1 = this._regioncode(x1, y1);\n    }\n  }\n  _clipInfinite(i, points, vx0, vy0, vxn, vyn) {\n    let P = Array.from(points), p;\n    if (p = this._project(P[0], P[1], vx0, vy0)) P.unshift(p[0], p[1]);\n    if (p = this._project(P[P.length - 2], P[P.length - 1], vxn, vyn)) P.push(p[0], p[1]);\n    if (P = this._clipFinite(i, P)) {\n      for (let j = 0, n = P.length, c0, c1 = this._edgecode(P[n - 2], P[n - 1]); j < n; j += 2) {\n        c0 = c1, c1 = this._edgecode(P[j], P[j + 1]);\n        if (c0 && c1) j = this._edge(i, c0, c1, P, j), n = P.length;\n      }\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      P = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax];\n    }\n    return P;\n  }\n  _edge(i, e0, e1, P, j) {\n    while (e0 !== e1) {\n      let x, y;\n      switch (e0) {\n        case 0b0101: e0 = 0b0100; continue; // top-left\n        case 0b0100: e0 = 0b0110, x = this.xmax, y = this.ymin; break; // top\n        case 0b0110: e0 = 0b0010; continue; // top-right\n        case 0b0010: e0 = 0b1010, x = this.xmax, y = this.ymax; break; // right\n        case 0b1010: e0 = 0b1000; continue; // bottom-right\n        case 0b1000: e0 = 0b1001, x = this.xmin, y = this.ymax; break; // bottom\n        case 0b1001: e0 = 0b0001; continue; // bottom-left\n        case 0b0001: e0 = 0b0101, x = this.xmin, y = this.ymin; break; // left\n      }\n      // Note: this implicitly checks for out of bounds: if P[j] or P[j+1] are\n      // undefined, the conditional statement will be executed.\n      if ((P[j] !== x || P[j + 1] !== y) && this.contains(i, x, y)) {\n        P.splice(j, 0, x, y), j += 2;\n      }\n    }\n    if (P.length > 4) {\n      for (let i = 0; i < P.length; i+= 2) {\n        const j = (i + 2) % P.length, k = (i + 4) % P.length;\n        if (P[i] === P[j] && P[j] === P[k]\n        || P[i + 1] === P[j + 1] && P[j + 1] === P[k + 1])\n          P.splice(j, 2), i -= 2;\n      }\n    }\n    return j;\n  }\n  _project(x0, y0, vx, vy) {\n    let t = Infinity, c, x, y;\n    if (vy < 0) { // top\n      if (y0 <= this.ymin) return null;\n      if ((c = (this.ymin - y0) / vy) < t) y = this.ymin, x = x0 + (t = c) * vx;\n    } else if (vy > 0) { // bottom\n      if (y0 >= this.ymax) return null;\n      if ((c = (this.ymax - y0) / vy) < t) y = this.ymax, x = x0 + (t = c) * vx;\n    }\n    if (vx > 0) { // right\n      if (x0 >= this.xmax) return null;\n      if ((c = (this.xmax - x0) / vx) < t) x = this.xmax, y = y0 + (t = c) * vy;\n    } else if (vx < 0) { // left\n      if (x0 <= this.xmin) return null;\n      if ((c = (this.xmin - x0) / vx) < t) x = this.xmin, y = y0 + (t = c) * vy;\n    }\n    return [x, y];\n  }\n  _edgecode(x, y) {\n    return (x === this.xmin ? 0b0001\n        : x === this.xmax ? 0b0010 : 0b0000)\n        | (y === this.ymin ? 0b0100\n        : y === this.ymax ? 0b1000 : 0b0000);\n  }\n  _regioncode(x, y) {\n    return (x < this.xmin ? 0b0001\n        : x > this.xmax ? 0b0010 : 0b0000)\n        | (y < this.ymin ? 0b0100\n        : y > this.ymax ? 0b1000 : 0b0000);\n  }\n}\n","import Delaunator from \"delaunator\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\nimport Voronoi from \"./voronoi.js\";\n\nconst tau = 2 * Math.PI, pow = Math.pow;\n\nfunction pointX(p) {\n  return p[0];\n}\n\nfunction pointY(p) {\n  return p[1];\n}\n\n// A triangulation is collinear if all its triangles have a non-null area\nfunction collinear(d) {\n  const {triangles, coords} = d;\n  for (let i = 0; i < triangles.length; i += 3) {\n    const a = 2 * triangles[i],\n          b = 2 * triangles[i + 1],\n          c = 2 * triangles[i + 2],\n          cross = (coords[c] - coords[a]) * (coords[b + 1] - coords[a + 1])\n                - (coords[b] - coords[a]) * (coords[c + 1] - coords[a + 1]);\n    if (cross > 1e-10) return false;\n  }\n  return true;\n}\n\nfunction jitter(x, y, r) {\n  return [x + Math.sin(x + y) * r, y + Math.cos(x - y) * r];\n}\n\nexport default class Delaunay {\n  static from(points, fx = pointX, fy = pointY, that) {\n    return new Delaunay(\"length\" in points\n        ? flatArray(points, fx, fy, that)\n        : Float64Array.from(flatIterable(points, fx, fy, that)));\n  }\n  constructor(points) {\n    this._delaunator = new Delaunator(points);\n    this.inedges = new Int32Array(points.length / 2);\n    this._hullIndex = new Int32Array(points.length / 2);\n    this.points = this._delaunator.coords;\n    this._init();\n  }\n  update() {\n    this._delaunator.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const d = this._delaunator, points = this.points;\n\n    // check for collinear\n    if (d.hull && d.hull.length > 2 && collinear(d)) {\n      this.collinear = Int32Array.from({length: points.length/2}, (_,i) => i)\n        .sort((i, j) => points[2 * i] - points[2 * j] || points[2 * i + 1] - points[2 * j + 1]); // for exact neighbors\n      const e = this.collinear[0], f = this.collinear[this.collinear.length - 1],\n        bounds = [ points[2 * e], points[2 * e + 1], points[2 * f], points[2 * f + 1] ],\n        r = 1e-8 * Math.hypot(bounds[3] - bounds[1], bounds[2] - bounds[0]);\n      for (let i = 0, n = points.length / 2; i < n; ++i) {\n        const p = jitter(points[2 * i], points[2 * i + 1], r);\n        points[2 * i] = p[0];\n        points[2 * i + 1] = p[1];\n      }\n      this._delaunator = new Delaunator(points);\n    } else {\n      delete this.collinear;\n    }\n\n    const halfedges = this.halfedges = this._delaunator.halfedges;\n    const hull = this.hull = this._delaunator.hull;\n    const triangles = this.triangles = this._delaunator.triangles;\n    const inedges = this.inedges.fill(-1);\n    const hullIndex = this._hullIndex.fill(-1);\n\n    // Compute an index from each point to an (arbitrary) incoming halfedge\n    // Used to give the first neighbor of each point; for this reason,\n    // on the hull we give priority to exterior halfedges\n    for (let e = 0, n = halfedges.length; e < n; ++e) {\n      const p = triangles[e % 3 === 2 ? e - 2 : e + 1];\n      if (halfedges[e] === -1 || inedges[p] === -1) inedges[p] = e;\n    }\n    for (let i = 0, n = hull.length; i < n; ++i) {\n      hullIndex[hull[i]] = i;\n    }\n\n    // degenerate case: 1 or 2 (distinct) points\n    if (hull.length <= 2 && hull.length > 0) {\n      this.triangles = new Int32Array(3).fill(-1);\n      this.halfedges = new Int32Array(3).fill(-1);\n      this.triangles[0] = hull[0];\n      inedges[hull[0]] = 1;\n      if (hull.length === 2) {\n        inedges[hull[1]] = 0;\n        this.triangles[1] = hull[1];\n        this.triangles[2] = hull[1];\n      }\n    }\n  }\n  voronoi(bounds) {\n    return new Voronoi(this, bounds);\n  }\n  *neighbors(i) {\n    const {inedges, hull, _hullIndex, halfedges, triangles, collinear} = this;\n\n    // degenerate case with several collinear points\n    if (collinear) {\n      const l = collinear.indexOf(i);\n      if (l > 0) yield collinear[l - 1];\n      if (l < collinear.length - 1) yield collinear[l + 1];\n      return;\n    }\n\n    const e0 = inedges[i];\n    if (e0 === -1) return; // coincident point\n    let e = e0, p0 = -1;\n    do {\n      yield p0 = triangles[e];\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) return; // bad triangulation\n      e = halfedges[e];\n      if (e === -1) {\n        const p = hull[(_hullIndex[i] + 1) % hull.length];\n        if (p !== p0) yield p;\n        return;\n      }\n    } while (e !== e0);\n  }\n  find(x, y, i = 0) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return -1;\n    const i0 = i;\n    let c;\n    while ((c = this._step(i, x, y)) >= 0 && c !== i && c !== i0) i = c;\n    return c;\n  }\n  _step(i, x, y) {\n    const {inedges, hull, _hullIndex, halfedges, triangles, points} = this;\n    if (inedges[i] === -1 || !points.length) return (i + 1) % (points.length >> 1);\n    let c = i;\n    let dc = pow(x - points[i * 2], 2) + pow(y - points[i * 2 + 1], 2);\n    const e0 = inedges[i];\n    let e = e0;\n    do {\n      let t = triangles[e];\n      const dt = pow(x - points[t * 2], 2) + pow(y - points[t * 2 + 1], 2);\n      if (dt < dc) dc = dt, c = t;\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n      if (e === -1) {\n        e = hull[(_hullIndex[i] + 1) % hull.length];\n        if (e !== t) {\n          if (pow(x - points[e * 2], 2) + pow(y - points[e * 2 + 1], 2) < dc) return e;\n        }\n        break;\n      }\n    } while (e !== e0);\n    return c;\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points, halfedges, triangles} = this;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = triangles[i] * 2;\n      const tj = triangles[j] * 2;\n      context.moveTo(points[ti], points[ti + 1]);\n      context.lineTo(points[tj], points[tj + 1]);\n    }\n    this.renderHull(context);\n    return buffer && buffer.value();\n  }\n  renderPoints(context, r) {\n    if (r === undefined && (!context || typeof context.moveTo !== \"function\")) r = context, context = null;\n    r = r == undefined ? 2 : +r;\n    const buffer = context == null ? context = new Path : undefined;\n    const {points} = this;\n    for (let i = 0, n = points.length; i < n; i += 2) {\n      const x = points[i], y = points[i + 1];\n      context.moveTo(x + r, y);\n      context.arc(x, y, r, 0, tau);\n    }\n    return buffer && buffer.value();\n  }\n  renderHull(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {hull, points} = this;\n    const h = hull[0] * 2, n = hull.length;\n    context.moveTo(points[h], points[h + 1]);\n    for (let i = 1; i < n; ++i) {\n      const h = 2 * hull[i];\n      context.lineTo(points[h], points[h + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  hullPolygon() {\n    const polygon = new Polygon;\n    this.renderHull(polygon);\n    return polygon.value();\n  }\n  renderTriangle(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points, triangles} = this;\n    const t0 = triangles[i *= 3] * 2;\n    const t1 = triangles[i + 1] * 2;\n    const t2 = triangles[i + 2] * 2;\n    context.moveTo(points[t0], points[t0 + 1]);\n    context.lineTo(points[t1], points[t1 + 1]);\n    context.lineTo(points[t2], points[t2 + 1]);\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *trianglePolygons() {\n    const {triangles} = this;\n    for (let i = 0, n = triangles.length / 3; i < n; ++i) {\n      yield this.trianglePolygon(i);\n    }\n  }\n  trianglePolygon(i) {\n    const polygon = new Polygon;\n    this.renderTriangle(i, polygon);\n    return polygon.value();\n  }\n}\n\nfunction flatArray(points, fx, fy, that) {\n  const n = points.length;\n  const array = new Float64Array(n * 2);\n  for (let i = 0; i < n; ++i) {\n    const p = points[i];\n    array[i * 2] = fx.call(that, p, i, points);\n    array[i * 2 + 1] = fy.call(that, p, i, points);\n  }\n  return array;\n}\n\nfunction* flatIterable(points, fx, fy, that) {\n  let i = 0;\n  for (const p of points) {\n    yield fx.call(that, p, i, points);\n    yield fy.call(that, p, i, points);\n    ++i;\n  }\n}\n","<script>\n    import {scaleLinear} from 'd3-scale';\n\n    export let width, reference_year;\n\n\tlet left_text = \"$100\"\n    let right_text = \"$10,000\"\n\n    let amount_scale = scaleLinear().domain([0, 30000]).range([1, 50])\n\n    let circle1 = amount_scale(100)\n    let circle2 = amount_scale(1000)\n    let circle3 = amount_scale(10000)\n\n    let decrease_text = \"↓ from \" + reference_year\n    let increase_text = \"↑ from \" + reference_year\n\n    let colors = [\n\t\t\"#a50026\",\n        \"#ffffbf\",\n\t\t\"#313695\"\n\t]\n\n    let ramp_width = width/3\n\n</script>\n\n<style>\n    circle {\n        fill: none;\n        stroke: #000;\n        stroke-width: 1px;\n        position: absolute;\n        padding: 10 10 10 10;\n    }\n\n    text.number {\n        font-size: 15px;\n\t\tfont-family: \"SpeziaMonoWeb-Medium\";\n    }\n\n    div {\n\t\tbackground: linear-gradient(to right, var(--gradient-1), var(--gradient-2), var(--gradient-3));\n        margin: auto;\n\t}\n\n    h2 {\n        font-size: 12px;\n\t\tfont-family: \"Aktiv Grotesk Xbold\";\n        position: fixed;\n    }\n\n\n\n</style>\n\n<svg {width} height=40>\n    <text class=\"number\" x={width/2 - 80} y=22.5>{left_text}</text>\n    <circle cx={width/2 - 30} cy=20 r={circle1}></circle>\n    <circle cx={width/2 - 20} cy=20 r={circle2}></circle>\n    <circle cx={width/2 + 5} cy=20 r={circle3}></circle>\n    <text class=\"number\" x={width/2 + 35} y=22.5>{right_text}</text>   \n</svg>\n<div\n    style=\"\n\t\t--deg: 90deg;\n\t\t--gradient-1:{colors[0]};\n        --gradient-2:{colors[1]};\n\t\t--gradient-3:{colors[2]};\n        width: {ramp_width}px;\n        height: 10px;\n\t\"\n></div>\n<h2 style=\"left: {width/2 - ramp_width/2}px; color: {colors[0]};\">{decrease_text}</h2>\n<h2 style=\"left: {width/2 + ramp_width/2 - 55}px; color: {colors[2]};\">{increase_text}</h2>\n\n","<script>\n    import { mobile, innerWidth } from './store.js'\n\timport { onMount } from 'svelte'\n\timport { Canvas } from 'svelte-canvas'\n\timport { feature } from \"topojson-client\"\n\timport { geoIdentity, geoPath, geoAlbersUsa } from \"d3-geo\"\n    import {scaleLinear} from 'd3-scale';\n    import { csv } from \"d3-fetch\"\n\timport Point from './Point.svelte'\n    import { Delaunay } from 'd3-delaunay';\n    import Legend from './Legend.svelte'\n\n   \n\n    // if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){\n    //     mobile = true          \n    // }\n\t\n\tlet width = 1000;\n\t$: height = width * .6256;\n\n\t$: projection = geoIdentity().scale(width / 975)\n    $: albers = geoAlbersUsa().scale(width*1.33).translate([width*0.5, height*0.5])\n\t$: path = geoPath(projection)\n\t\n\tlet us;\n    let data;\n    let features;\n    let points = [];\n\n    let reference_year = 2020;\n\n\n    // console.log(data)\n\n\n    // let amount_scale = !$mobile ? scaleLinear().domain([0, 30000]).range([1, 50]) : scaleLinear().domain([0, 30000]).range([1, 30])\n    let amount_scale = scaleLinear().domain([0, 30000]).range([1, 50])\n\n    let ticker = 2022;\n    // let timeout;\n    // let duration = 1500;\n    // const loopPadding = 300; // time to wait between loops\n    // const loop = time => {\n    //     timeout = setTimeout(() => {\n    //     ticker = ticker < 2022 ? ticker + 1 : 2010\n        \n    //     loop(duration + loopPadding);\n    //     }, time);\n    // };\n    // const startPlaying = () => loop(0)\n    // const stopPlaying = () => clearTimeout(timeout)\n\n    // $: playing = false;\n    // $: playing ? startPlaying() : stopPlaying();\n\n\tonMount(async () => {\n\t\tconst shape = await fetch(\"https://cdn.jsdelivr.net/npm/us-atlas@3/states-albers-10m.json\")\n\t\tus = await shape.json()\n\n        features = feature(us, us.objects.states).features\n\n        data = await csv(\"https://raw.githubusercontent.com/ChampeBarton/nra-donations/main/election_ready.csv\")\n            // .then(data =>\n            //     points = data.filter(d => +d.amount != 0 && +d.year == ticker).map((d, id) => {\n            //         var latlon = albers([+d.lon, +d.lat])\n            //         var lat = latlon !== null ? latlon[0] : null\n            //         var lon = latlon !== null ? latlon[1] : null \n\n            //         var year = +d.year\n            //         var amount = +d.amount == 0 ? 0 : amount_scale(+d.amount)\n            //         var change = +d.change !== +d.change ? 0 : +d.change\n                    \n            //         var show = ticker == year ? true : false\n\n            //         var name = d.name\n            //         var state = d.state\n\n            //         return({lat, lon, year, amount, change, show, id, name, state})\n            //     })\n            // )\n\n\t})\n\n    $: if(data !== undefined) {\n        data.forEach((d) => {\n            d.lat = +d.lat\n            d.lon = +d.lon\n            d.scaled_amount = +d.amount == 0 ? 0 : amount_scale(+d.amount)\n            d.year = +d.year\n            d.change = +d.change\n        })\n    }\n\n    $: points = data !== undefined ? data.filter(d => +d.amount != 0 && +d.year == ticker).map((d, id) => {\n\t\tvar latlon = albers([d.lon, d.lat])\n        var lat = latlon !== null ? latlon[0] : null\n        var lon = latlon !== null ? latlon[1] : null \n\n\t\tvar year = +d.year\n        var scaled_amount = +d.scaled_amount\n        var amount = +d.amount\n        var change = +d.change !== +d.change ? 0 : +d.change\n        \n        var show = ticker == year ? true : false\n\n        var name = d.name\n        var state = d.state\n\n\n\t\treturn({lat, lon, year, amount, scaled_amount, change, show, id, name, state})\n\t}).sort((a, b) => Math.abs(a.change) - Math.abs(b.change))  : []\n\n    let picked, click = false;\n\n    $: delaunay = Delaunay.from(\n        points,\n        d => d.lat,\n        d => d.lon\n    );\n\n\n    // $: console.log(points)\n    // $: console.log(picked)\n\t\t\t\t\t\n</script>\n\n<style>\n\tsvg {\n\t\tposition: absolute;\n\t}\n\t\n\tpath {\n\t\tstroke: #000000;\n\t\t/* fill: transparent; */\n\t}\n\n    h1 {\n\t\tcolor: #333;\n\t\tfont-size: 25px;\n\t\tfont-family: \"Aktiv Grotesk XBold\";\n        margin-bottom: 10;\n        text-align: center;\n\t}\n\n    /* h2 {\n\t\tcolor: #777;\n\t\tfont-size: 20px;\n\t\tfont-family: \"Aktiv Grotesk\";\n        margin-top: 0;\n\t} */\n\n</style>\n\n<svelte:window bind:innerWidth={$innerWidth}/>\n{#if $innerWidth}\n    {#if !$mobile}\n            <!-- <header style=\"margin-bottom:30px\">\n                <h1> Amount Donated to the NRA by County in 2022</h1>\n                <Legend {width} {reference_year}></Legend>\n            </header>   -->\n        <header>\n            <h1> Amount Donated to the NRA by County in 2022</h1>\n            <Legend {width} {reference_year}></Legend>\n        </header>  \n        <div bind:clientWidth={width}>\n            <svg {width} {height}>\n                {#if us}\n                    <g fill=\"rgb(233,233,233)\">\n                        {#each features as feature}\n                            <path d={path(feature)}/>\n                        {/each}\n                    </g>\n                    \n                {/if}\n            </svg>\n            <Canvas {width} {height} \n                style= \"position: absolute; cursor: pointer\"\n                on:mousemove={({ clientX: x, clientY: y }) => {\n                    if (!$mobile) {\n                        if (picked = delaunay.find(x - 10, y - 120))\n                        points = [...points.filter((_, i) => i !== picked), points[picked]]\n                    }}\n                }\n                on:mouseout={() => (picked = null)}\n            >\n                {#each points as {lat, lon, show, amount, scaled_amount, change, id, name, state} (id)}\n                    {#if show}\n                        <Point \n                            x = {lat} \n                            y = {lon} \n                            r = {!$mobile ? picked && id === points.at(-1).id && !click ? scaled_amount + 2 : scaled_amount : scaled_amount}\n                            stroke = {!$mobile ? picked && id === points.at(-1).id && '#000' : null}\n                            {change}\n                            {name}\n                            {state}\n                            {amount}\n                            {reference_year}\n                        />\n                    {/if}\n                {/each}\n                \n            </Canvas>   \n        </div>\n    {:else}\n        <div {width}>\n            <img style = \"max-width: 100%\" src = \"https://raw.githubusercontent.com/ChampeBarton/nra-donations/7859c7cf1887caccf534e6bbcb4f3a12f9ff1fd1/mobile-version.png\" alt=\"Map of NRA donations broken down by U.S. County\" >\n        </div>\n    {/if}\n{/if}\n\n<!-- on:click ={() => playing = !playing} -->","import clipRectangle from \"../clip/rectangle.js\";\nimport identity from \"../identity.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport {cos, degrees, radians, sin} from \"../math.js\";\n\nexport default function() {\n  var k = 1, tx = 0, ty = 0, sx = 1, sy = 1, // scale, translate and reflect\n      alpha = 0, ca, sa, // angle\n      x0 = null, y0, x1, y1, // clip extent\n      kx = 1, ky = 1,\n      transform = transformer({\n        point: function(x, y) {\n          var p = projection([x, y])\n          this.stream.point(p[0], p[1]);\n        }\n      }),\n      postclip = identity,\n      cache,\n      cacheStream;\n\n  function reset() {\n    kx = k * sx;\n    ky = k * sy;\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  function projection (p) {\n    var x = p[0] * kx, y = p[1] * ky;\n    if (alpha) {\n      var t = y * ca - x * sa;\n      x = x * ca + y * sa;\n      y = t;\n    }    \n    return [x + tx, y + ty];\n  }\n  projection.invert = function(p) {\n    var x = p[0] - tx, y = p[1] - ty;\n    if (alpha) {\n      var t = y * ca + x * sa;\n      x = x * ca - y * sa;\n      y = t;\n    }\n    return [x / kx, y / ky];\n  };\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transform(postclip(cacheStream = stream));\n  };\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, reset()) : k;\n  };\n  projection.translate = function(_) {\n    return arguments.length ? (tx = +_[0], ty = +_[1], reset()) : [tx, ty];\n  }\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, sa = sin(alpha), ca = cos(alpha), reset()) : alpha * degrees;\n  };\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, reset()) : sx < 0;\n  };\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, reset()) : sy < 0;\n  };\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  return projection;\n}\n","import identity from \"../identity.js\";\nimport stream from \"../stream.js\";\nimport pathArea from \"./area.js\";\nimport pathBounds from \"./bounds.js\";\nimport pathCentroid from \"./centroid.js\";\nimport PathContext from \"./context.js\";\nimport pathMeasure from \"./measure.js\";\nimport PathString from \"./string.js\";\n\nexport default function(projection, context) {\n  var pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    return arguments.length ? (projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream, path) : projection;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  return path.projection(projection).context(context);\n}\n","import App from './App.svelte'\n\nconst app = new App({\n  target: document.body\n})\n\nexport default app\n"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","src_url_equal_anchor","crossorigin","current_component","subscribe","store","callbacks","unsub","unsubscribe","component_subscribe","component","callback","$$","on_destroy","push","get_slot_context","definition","ctx","$$scope","tar","src","k","assign","slice","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","element","name","document","createElement","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_style","key","important","style","setProperty","is_crossorigin","undefined","window","parent","error","set_current_component","get_current_component","Error","onMount","on_mount","onDestroy","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","flushing","seen_callbacks","Set","flush","i","length","update","pop","has","add","clear","fragment","before_update","dirty","p","after_update","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","delete","transition_out","o","d","outro_and_destroy_block","lookup","create_component","mount_component","customElement","m","new_on_destroy","map","filter","destroy_component","detaching","make_dirty","then","fill","init","instance","create_fragment","not_equal","props","append_styles","parent_component","bound","on_disconnect","context","Map","skip_bound","root","ready","ret","rest","hydrate","nodes","Array","from","childNodes","children","l","intro","SvelteComponent","$destroy","this","$on","type","index","indexOf","splice","$set","$$props","obj","$$set","keys","subscriber_queue","readable","start","writable","stop","subscribers","set","new_value","run_queue","subscriber","invalidate","size","innerWidth","mobile","stores","initial_value","single","isArray","stores_array","auto","inited","values","pending","cleanup","sync","result","unsubscribers","derived","$innerWidth","events","RenderManager","constructor","register","bind","unregister","redraw","resize","render","currentLayerId","setups","renderers","needsSetup","needsResize","needsRedraw","layerSequence","setup","layerId","autoclear","pixelRatio","width","height","renderProps","setTransform","clearRect","get","slot_ctx","action_result","destroy","slot","slot_definition","slot_changes","get_slot_context_fn","slot_context","lets","merged","len","Math","max","KEY","canvas","animationLoop","layerRef","layerObserver","forwardEvents","destructors","e","call","bubble","forwardEventsBuilder","manager","draw","requestAnimationFrame","devicePixelRatio","setContext","getLayerSequence","sequence","layer","dataset","getContext","MutationObserver","observe","childList","cancelAnimationFrame","disconnect","frame","now","Date","x","feature","topology","id","bbox","properties","geometry","transformPoint","transform","identity","x0","y0","kx","scale","ky","dx","translate","dy","input","j","n","output","arcs","arc","points","array","t","reverse","point","line","ring","polygon","coordinates","geometries","object","ascending","NaN","bisector","f","delta","compare1","compare2","left","lo","hi","mid","center","right","bisectRight","Adder","_partials","Float64Array","_n","y","abs","valueOf","e10","sqrt","e5","e2","tickIncrement","count","step","power","floor","log","LN10","pow","merge","arrays","flatten","epsilon","pi","PI","halfPi","quarterPi","tau","degrees","radians","atan","atan2","cos","sin","sign","asin","streamGeometry","stream","streamGeometryType","hasOwnProperty","streamObjectType","Feature","FeatureCollection","features","Sphere","sphere","Point","MultiPoint","LineString","streamLine","MultiLineString","Polygon","streamPolygon","MultiPolygon","GeometryCollection","closed","coordinate","lineStart","lineEnd","polygonStart","polygonEnd","spherical","cartesian","lambda","phi","cosPhi","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","vector","cartesianNormalizeInPlace","compose","invert","rotationIdentity","round","forwardRotationLambda","deltaLambda","rotationLambda","rotation","rotationPhiGamma","deltaPhi","deltaGamma","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","z","circleRadius","cosRadius","radius","acos","lines","rejoin","concat","shift","Intersection","other","entry","v","segments","compareIntersection","startInside","interpolate","subject","clip","segment","p0","p1","pointEqual","sort","link","current","isSubject","longitude","pointVisible","clipLine","sink","ringBuffer","clipBuffer","ringSink","polygonStarted","pointRing","ringStart","ringEnd","sinPhi","normal","angle","winding","sum","point0","lambda0","phi0","sinPhi0","cosPhi0","lambda1","sinPhi1","cosPhi1","point1","phi1","absDelta","antimeridian","intersection","phiArc","polygonContains","clipRejoin","pointLine","clean","ringSegments","validSegment","sign0","sign1","sinLambda0Lambda1","clipAntimeridianIntersect","to","direction","cr","smallRadius","notHemisphere","visible","intersect","two","n1","n2","n2n2","n1n2","determinant","c1","c2","n1xn2","A","u","w","uu","t2","q","polar","q1","code","c0","v0","v00","point2","t0","t1","sinRadius","circleStream","clipMax","clipMin","clipRectangle","x1","y1","a1","corner","comparePoint","ca","cb","x__","y__","v__","x_","y_","v_","first","activeStream","bufferStream","clipStream","linePoint","a0","b0","b1","polygonInside","cleanInside","min","ax","ay","x00","y00","areaSum","areaRingSum","areaStream","areaRingStart","areaRingEnd","area","areaPointFirst","areaPoint","Infinity","bounds","X0","Y0","Z0","X1","Y1","Z1","X2","Y2","Z2","centroidStream","centroidPoint","centroidLineStart","centroidLineEnd","centroidRingStart","centroidRingEnd","centroid","centroidPointFirstLine","centroidPointLine","centroidPointFirstRing","centroidPointRing","PathContext","_context","prototype","_radius","pointRadius","_","_line","_point","closePath","moveTo","lineTo","lengthRing","lengthSum","lengthStream","lengthPointFirst","lengthPoint","PathString","_string","circle","transformer","methods","s","TransformStream","fit","projection","fitBounds","clipExtent","geoStream","boundsStream","fitExtent","extent","h","fitSize","fitWidth","fitHeight","_circle","join","cosMinDistance","project","delta2","resampleLineTo","depth","d2","phi2","lambda2","x2","y2","dx2","dy2","dz","lambda00","a00","b00","c00","resampleStream","ringPoint","resample","resampleNone","transformRadians","scaleTranslateRotate","sx","sy","alpha","scaleTranslate","cosAlpha","sinAlpha","ai","bi","ci","fi","projectionMutator","projectAt","rotate","projectResample","projectTransform","projectRotateTransform","cache","cacheStream","theta","preclip","clipAntimeridian","postclip","recenter","apply","rotateRadians","reset","transformRotate","arguments","clipAngle","clipCircle","reflectX","reflectY","precision","conicEqualAreaRaw","sy0","forward","cylindricalEqualAreaRaw","r0","r0y","parallels","lower48Point","alaskaPoint","hawaiiPoint","lower48","conicEqualArea","alaska","hawaii","pointStream","albersUsa","streams","initRange","domain","range","initInterpolator","interpolator","factory","extend","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","format","trim","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","g","rgbConvert","opacity","rgb_formatHex","hex","rgb_formatRgb","isNaN","toString","Hsl","hslConvert","hsl2rgb","m1","m2","define","copy","channels","displayable","formatHsl","gamma","nogamma","exponential","constant","linear","rgbGamma","end","colorRgb","genericArray","nb","na","setTime","reA","reB","source","am","bm","bs","lastIndex","number","one","zero","string","date","ArrayBuffer","isView","DataView","numberArray","unit","normalize","bimap","d0","d1","r1","polymap","bisect","clamp","unknown","untransform","piecewise","interpolateValue","rescale","interpolateNumber","rangeRound","interpolateRound","continuous","formatDecimalParts","toExponential","coefficient","prefixExponent","re","formatSpecifier","specifier","match","FormatSpecifier","align","symbol","comma","exponent","toFixed","toLocaleString","replace","toPrecision","formatRounded","X","toUpperCase","locale","formatPrefix","prefixes","grouping","thousands","group","Number","substring","currencyPrefix","currency","currencySuffix","decimal","numerals","formatNumerals","String","percent","minus","nan","newFormat","formatTypes","prefix","test","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","i1","i0","formatTrim","charCodeAt","padding","tickFormat","step0","step1","tickStep","precisionPrefix","precisionRound","precisionFixed","linearish","ticks","isFinite","nice","prestep","maxIter","ceil","k10","sequential","formatLocale","EOL","EOF","objectConverter","columns","Function","JSON","stringify","inferColumns","rows","columnSet","row","column","pad","formatDate","year","hours","getUTCHours","minutes","getUTCMinutes","seconds","getUTCSeconds","milliseconds","getUTCMilliseconds","getUTCFullYear","getUTCMonth","getUTCDate","csv","delimiter","reFormat","DELIMITER","parseRows","N","I","eof","eol","token","preformatBody","formatValue","formatRow","parse","convert","customConverter","formatBody","formatRows","dsv","csvParse","responseText","response","ok","status","statusText","fetch","amount_text_beginning","amount_text_end","stroke","change","state","amount","reference_year","colorScale","scaleSequential","header_text","change_text","trunc","amount_text_middle","save","globalAlpha","fillStyle","strokeStyle","lineWidth","beginPath","restore","font","fillText","amount_text_width","measureText","change_text_width","compared_text_width","header_text_width","edge_x","querySelector","getBoundingClientRect","edge_y","bottom","box_width","screen_adjust_x","screen_adjust_y","roundRect","splitter","elen","flen","Q","Qnew","hh","bvirt","enow","fnow","eindex","findex","hindex","vec","B","C1","C2","D","orient2d","bx","by","cx","cy","detleft","detright","det","detsum","acxtail","acytail","bcxtail","bcytail","ahi","alo","bhi","blo","_i","_j","_0","s1","s0","u3","acx","bcx","acy","bcy","estimate","errbound","C1len","C2len","Dlen","orient2dadapt","EPSILON","EDGE_STACK","Uint32Array","Delaunator","static","getX","defaultGetX","getY","defaultGetY","coords","maxTriangles","_triangles","_halfedges","Int32Array","_hashSize","_hullPrev","_hullNext","_hullTri","_hullHash","_ids","_dists","hullPrev","hullNext","hullTri","hullHash","minX","minY","maxX","maxY","i2","minDist","dist","i0x","i0y","i1x","i1y","minRadius","circumradius","i2x","i2y","quicksort","hull","subarray","triangles","halfedges","ex","ey","bl","cl","circumcenter","_cx","_cy","_hullStart","hullSize","_hashKey","trianglesLen","_addTriangle","xp","yp","_legalize","pseudoAngle","ar","al","pr","pl","inCircle","hbl","_link","br","px","py","fx","fy","bp","cp","ids","dists","temp","tempDist","swap","arr","tmp","Path","_x0","_y0","_x1","_y1","rect","Voronoi","delaunay","xmin","ymin","xmax","ymax","_circumcenters","vectors","_init","circumcenters","t3","x3","y3","ab","buffer","inedges","ti","tj","xi","yi","xj","yj","_renderSegment","h0","h1","_project","renderBounds","renderCell","_clip","cellPolygons","cell","cellPolygon","S","_regioncode","_clipSegment","contains","_step","neighbors","cj","loop","li","aj","lj","_cell","e0","V","_clipInfinite","_clipFinite","P","e1","sx0","sx1","sy1","_edgecode","_edge","vx0","vy0","vxn","vyn","unshift","vx","vy","pointX","pointY","jitter","Delaunay","that","flatArray","flatIterable","_delaunator","_hullIndex","collinear","hypot","hullIndex","voronoi","find","dc","dt","renderHull","renderPoints","hullPolygon","renderTriangle","trianglePolygons","trianglePolygon","left_text","right_text","amount_scale","scaleLinear","circle1","circle2","circle3","decrease_text","increase_text","ramp_width","element_src","url","href","getComputedStyle","position","iframe","tabIndex","contentWindow","onload","iterations","at","old_blocks","get_key","dynamic","list","create_each_block","next","get_context","old_indexes","new_blocks","new_lookup","deltas","child_ctx","will_move","did_move","new_block","old_block","new_key","old_key","us","shape","json","objects","states","picked","sa","tx","ty","geoIdentity","albers","geoAlbersUsa","path","projectionStream","contextStream","pathArea","measure","pathMeasure","pathBounds","pathCentroid","geoPath","lat","lon","scaled_amount","latlon","show","clientX","clientY","$mobile","body"],"mappings":"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"}